/*! For license information please see main.55d22cff.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function A(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(1!==o||1!==l)do{if(o--,0>--l||i[o]!==a[l]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function H(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ce=null,Se=null;function xe(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Ee(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==Ce||null!==Se)&&(Ie(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){De=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){De=!1}function je(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ae=!1,ze=null,Ue={onError:function(e){Me=!0,Fe=e}};function He(e,t,n,r,i,a,o,l,s){Me=!1,Fe=null,je.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~i;0!==l?r=dt(l):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,Ct,St,xt,Et=!1,Tt=[],Nt=null,It=null,Pt=null,Rt=new Map,Ot=new Map,Dt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){At(e)&&n.delete(t)}function Ut(){Et=!1,null!==Nt&&At(Nt)&&(Nt=null),null!==It&&At(It)&&(It=null),null!==Pt&&At(Pt)&&(Pt=null),Rt.forEach(zt),Ot.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Ht(t,e)}if(0<Tt.length){Ht(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ht(Nt,e),null!==It&&Ht(It,e),null!==Pt&&Ht(Pt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Bt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=1,Qt(e,t,n,r)}finally{_t=i,qt.transition=a}}function $t(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=4,Qt(e,t,n,r)}finally{_t=i,qt.transition=a}}function Qt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&kt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=gi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),fn=an(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},dn,{relatedTarget:0})),yn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),bn=an(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return Sn}var En=F({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),Dn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Mn=c&&"TextEvent"in window&&!jn,Fn=c&&(!Ln||jn&&8<jn&&11>=jn),An=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Bn(e,t,n,r){Ee(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Yn(e){Ar(e,0)}function Kn(e){if(Q(bi(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Qn=$n=null)}function nr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];Bn(t,Qn,e,ke(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=$r(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Cr={},Sr={};function xr(e){if(Cr[e])return Cr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er=xr("animationend"),Tr=xr("animationiteration"),Nr=xr("animationstart"),Ir=xr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Lr=Rr[Dr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,l,s,u){if(He.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,Ae||(Ae=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,l,u),a=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,l,u),a=s}}}if(Ae)throw e=ze,Ae=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Gt(t)){case 1:var i=Bt;break;case 4:i=$t;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==l;){if(null===(o=gi(l)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}l=l.parentNode}}r=r.return}Re((function(){var r=a,i=ke(n),o=[];e:{var l=Pr.get(e);if(void 0!==l){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":u="focus",s=mn;break;case"focusout":u="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Er:case Tr:case Nr:s=yn;break;case Ir:s=Pn;break;case"scroll":s=fn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Oe(p,f))&&c.push(Br(p,v,h)))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),o.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[pi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?l:bi(s),h=null==u?l:bi(u),(l=new c(v,p+"leave",s,n,i)).target=d,l.relatedTarget=h,v=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,s&&u)e:{for(f=u,p=0,h=c=s;h;h=Qr(h))p++;for(h=0,v=f;v;v=Qr(v))h++;for(;0<p-h;)c=Qr(c),p--;for(;0<h-p;)f=Qr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Qr(c),f=Qr(f)}c=null}else c=null;null!==s&&Yr(o,l,s,c,!1),null!==u&&null!==d&&Yr(o,d,u,c,!0)}if("select"===(s=(l=r?bi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var m=Gn;else if(Wn(l))if(Jn)m=or;else{m=ir;var y=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ar);switch(m&&(m=m(e,r))?Bn(o,m,n,i):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ee(l,"number",l.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(y=$r(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Hn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,An);case"textInput":return(e=t.data)===An&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Br(e,a,i)),null!=(a=Oe(e,t))&&r.push(Br(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Oe(n,a))&&o.unshift(Br(n,s,l)):i||null!=(s=Oe(n,a))&&o.push(Br(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var wi=[],Ci=-1;function Si(e){return{current:e}}function xi(e){0>Ci||(e.current=wi[Ci],wi[Ci]=null,Ci--)}function Ei(e,t){Ci++,wi[Ci]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ii=Si(!1),Pi=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){xi(Ii),xi(Ni)}function Li(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Ei(Ni,t),Ei(Ii,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ni.current,Ei(Ni,e),Ei(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ii),xi(Ni),Ei(Ni,e)):xi(Ii),Ei(Ii,n)}var Ai=null,zi=!1,Ui=!1;function Hi(e){null===Ai?Ai=[e]:Ai.push(e)}function Vi(){if(!Ui&&null!==Ai){Ui=!0;var e=0,t=_t;try{var n=Ai;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ai=null,zi=!1}catch(i){throw null!==Ai&&(Ai=Ai.slice(e+1)),Qe(Ze,Vi),i}finally{_t=t,Ui=!1}}return null}var qi=[],Wi=0,Bi=null,$i=0,Qi=[],Yi=0,Ki=null,Gi=1,Ji="";function Xi(e,t){qi[Wi++]=$i,qi[Wi++]=Bi,Bi=e,$i=t}function Zi(e,t,n){Qi[Yi++]=Gi,Qi[Yi++]=Ji,Qi[Yi++]=Ki,Ki=e;var r=Gi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Gi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Bi;)Bi=qi[--Wi],qi[Wi]=null,$i=qi[--Wi],qi[Wi]=null;for(;e===Ki;)Ki=Qi[--Yi],Qi[Yi]=null,Ji=Qi[--Yi],Qi[Yi]=null,Gi=Qi[--Yi],Qi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Gi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!la(e,t)){if(sa(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&la(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,_a=null,ba=null;function ka(){ba=_a=ga=null}function wa(e){var t=ya.current;xi(ya),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===o?a=u:o.next=u,o=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=i.baseState;for(o=0,c=u=s=null,l=a;;){var f=l.lane,h=l.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:Pa=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,o|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=d}}function Aa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nu(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nu(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(nu(t,e,r,n),ja(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Oi(t)?Pi:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Oi(t)?Pi:Ni.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function $a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ya(a)===t.type)?((r=i(t,n.props)).ref=$a(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=$a(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=ju(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=$a(e,null,t),n.return=e,n;case w:return(t=Au(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=ju(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,l,s){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<l.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,l[v],s);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y,d=m}if(v===l.length)return n(i,d),ia&&Xi(i,v),u;if(null===d){for(;v<l.length;v++)null!==(d=f(i,l[v],s))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&Xi(i,v),u}for(d=r(i,d);v<l.length;v++)null!==(m=p(d,i,v,l[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),u}function m(i,l,s,u){var c=j(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=l,m=l=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=h(i,v,g.value,u);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),l=o(_,l,m),null===d?c=_:d.sibling=_,d=_,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=f(i,g.value,u))&&(l=o(g,l,m),null===d?c=g:d.sibling=g,d=g);return ia&&Xi(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),l=o(g,l,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===C){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=$a(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((a=ju(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lu(o.type,o.key,o.props,null,r.mode,s)).ref=$a(r,a,o),s.return=r,r=s)}return l(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Au(o,r.mode,s)).return=r,r=a}return l(r);case O:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(j(o))return m(r,a,o,s);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,s)).return=r,r=a),l(r)):n(r,a)}}var Ga=Ka(!0),Ja=Ka(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ei(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var lo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,bo=0,ko=0;function wo(){throw Error(a(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ll:sl,e=n(r,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ul,e=n(r,i)}while(_o)}if(fo.current=ol,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function No(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=l=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,l=r):u=u.next=f,vo.lanes|=d,Ms|=d}c=c.next}while(null!==c&&c!==o);null===u?l=r:u.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);lr(o,t.memoizedState)||(bl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,bl=!0),r=r.queue,Wo(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Is)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function jo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Fo(e){var t=Ia(e,1);null!==t&&nu(t,e,1,-1)}function Ao(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Ho(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function qo(e,t){return Ho(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Bo(e,t){return Vo(4,2,e,t)}function $o(e,t){return Vo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Qo.bind(null,t,e),n)}function Ko(){}function Go(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function el(){return To().memoizedState}function tl(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Na(e,t,n,r))){nu(n,e,r,eu()),al(n,t,r)}}function nl(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Na(e,t,i,r))&&(nu(n,e,r,i=eu()),al(n,t,r))}}function rl(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function il(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ol={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ll={readContext:xa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Ao,useDebugValue:Ko,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Is)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(jo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Is.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Gi&~(1<<32-ot(Gi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:xa,useCallback:Go,useContext:xa,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Bo,useLayoutEffect:$o,useMemo:Jo,useReducer:Io,useRef:Uo,useState:function(){return Io(No)},useDebugValue:Ko,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Io(No)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:el,unstable_isNewReconciler:!1},ul={readContext:xa,useCallback:Go,useContext:xa,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Bo,useLayoutEffect:$o,useMemo:Jo,useReducer:Po,useRef:Uo,useState:function(){return Po(No)},useDebugValue:Ko,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Po(No)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:el,unstable_isNewReconciler:!1};function cl(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Bs=r),fl(0,t)},n}function vl(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fl(0,t),"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _l=b.ReactCurrentOwner,bl=!1;function kl(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ga(t,e.child,n,r)}function wl(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||bl?(ia&&n&&ea(t),t.flags|=1,kl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function Cl(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Sl(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wl(e,t,i)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wl(e,t,i);0!==(131072&e.flags)&&(bl=!0)}}return Tl(e,t,n,r,i)}function xl(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Os),Os|=r;return kl(e,t,i,n),t.child}function El(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,i){var a=Oi(n)?Pi:Ni.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||bl?(ia&&r&&ea(t),t.flags|=1,kl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function Nl(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)ql(e,t),qa(t,n,r),Ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=xa(u):u=Ri(t,u=Oi(n)?Pi:Ni.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||s!==u)&&Wa(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),s=t.memoizedState,l!==r||f!==s||Ii.current||Pa?("function"===typeof c&&(Ua(t,n,c,r),s=t.memoizedState),(l=Pa||Va(t,n,l,r,f,s,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ma(t.type,l),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=xa(s):s=Ri(t,s=Oi(n)?Pi:Ni.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||f!==s)&&Wa(t,o,r,s),Pa=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;l!==d||f!==p||Ii.current||Pa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(u=Pa||Va(t,n,u,r,f,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=u):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,a,i)}function Il(e,t,n,r,i,a){El(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wl(e,t,a);r=t.stateNode,_l.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,l,a)):kl(e,t,l,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pl(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Rl(e,t,n,r,i){return ha(),pa(i),t.flags|=256,kl(e,t,n,r),t.child}var Ol,Dl,Ll,jl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var r,i=t.pendingProps,o=lo.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(lo,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Mu(s,i,0,null),e=ju(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ml(n),t.memoizedState=jl,e):Al(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,l){if(n)return 256&t.flags?(t.flags&=-257,zl(e,t,l,r=dl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=ju(o,i,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ga(t,e.child,null,l),t.child.memoizedState=Ml(l),t.memoizedState=jl,o);if(0===(1&t.mode))return zl(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zl(e,t,l,r=dl(o=Error(a(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=Is)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),nu(r,e,i,-1))}return vu(),zl(e,t,l,r=dl(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Yi++]=Gi,Qi[Yi++]=Ji,Qi[Yi++]=Ki,Gi=e.id,Ji=e.overflow,Ki=t),(t=Al(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(l){l=i.fallback,s=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=Du(r,l):(l=ju(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=null===(s=e.child.memoizedState)?Ml(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=jl,i}return e=(l=e.child).sibling,i=Du(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Al(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,n,r){return null!==r&&pa(r),Ga(t,e.child,null,n),(e=Al(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Hl(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(kl(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,a);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $l(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $l(t),null;case 1:case 17:return Oi(t.type)&&Di(),$l(t),null;case 3:return r=t.stateNode,io(),xi(Ii),xi(Ni),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),$l(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return $l(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var u=o[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":$(r),Z(r,o,!0);break;case"textarea":$(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,Ol(e,t),t.stateNode=e;e:{switch(s=_e(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":G(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&_(e,o,c,s))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $l(t),null;case 6:if(e&&null!=t.stateNode)Ll(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return $l(t),null;case 13:if(xi(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$l(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Ls&&(Ls=3):vu())),null!==t.updateQueue&&(t.flags|=4),$l(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),$l(t),null;case 10:return wa(t.type._context),$l(t),null;case 19:if(xi(lo),null===(o=t.memoizedState))return $l(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Bl(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Bl(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vs&&(t.flags|=128,r=!0,Bl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return $l(t),null}else 2*Je()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,Bl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=lo.current,Ei(lo,r?1&n|2:1&n),t):($l(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&($l(t),6&t.subtreeFlags&&(t.flags|=8192)):$l(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ii),xi(Ni),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(lo),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ol=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||s===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kl=!1,Gl=!1,Jl="function"===typeof WeakSet?WeakSet:Set,Xl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Su(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Gl||Zl(n,t);case 6:var r=cs,i=ds;cs=null,fs(e,t,n),ds=i,null!==(cs=r)&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Vt(e)):si(cs,n.stateNode));break;case 4:r=cs,i=ds,cs=n.stateNode.containerInfo,ds=!0,fs(e,t,n),cs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}fs(e,t,n);break;case 1:if(!Gl&&(Zl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Su(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Gl=(r=Gl)||null!==n.memoizedState,fs(e,t,n),Gl=r):fs(e,t,n);break;default:fs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jl),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(a(160));hs(o,l,i),cs=null,ds=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Su(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),_e(s,l);var c=_e(s,o);for(l=0;l<u.length;l+=2){var d=u[l],f=u[l+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):_(i,d,f,c)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Su(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Su(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hs=Je())),4&r&&ps(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gl=(c=Gl)||d,vs(t,e),Gl=c):vs(t,e),ys(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xl=e,d=e.child;null!==d;){for(f=Xl=d;null!==Xl;){switch(p=(h=Xl).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zl(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:Zl(h,h.return);break;case 22:if(null!==h.memoizedState){ks(f);continue}}null!==p?(p.return=h,Xl=p):ks(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=f.stateNode,l=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=ve("display",l))}catch(m){Su(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),us(e,ls(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,ls(e),o);break;default:throw Error(a(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xl=e,_s(e,t,n)}function _s(e,t,n){for(var r=0!==(1&e.mode);null!==Xl;){var i=Xl,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Kl;if(!o){var l=i.alternate,s=null!==l&&null!==l.memoizedState||Gl;l=Kl;var u=Gl;if(Kl=o,(Gl=s)&&!u)for(Xl=i;null!==Xl;)s=(o=Xl).child,22===o.tag&&null!==o.memoizedState?ws(i):null!==s?(s.return=o,Xl=s):ws(i);for(;null!==a;)Xl=a,_s(a,t,n),a=a.sibling;Xl=i,Kl=l,Gl=u}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xl=a):bs(e)}}function bs(e){for(;null!==Xl;){var t=Xl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Aa(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Aa(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Gl||512&t.flags&&is(t)}catch(h){Su(t,t.return,h)}}if(t===e){Xl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xl=n;break}Xl=t.return}}function ks(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xl=n;break}Xl=t.return}}function ws(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Su(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Su(t,i,s)}}var a=t.return;try{is(t)}catch(s){Su(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Su(t,o,s)}}}catch(s){Su(t,t.return,s)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var Cs,Ss=Math.ceil,xs=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Ns=0,Is=null,Ps=null,Rs=0,Os=0,Ds=Si(0),Ls=0,js=null,Ms=0,Fs=0,As=0,zs=null,Us=null,Hs=0,Vs=1/0,qs=null,Ws=!1,Bs=null,$s=null,Qs=!1,Ys=null,Ks=0,Gs=0,Js=null,Xs=-1,Zs=0;function eu(){return 0!==(6&Ns)?Je():-1!==Xs?Xs:Xs=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nu(e,t,n,r){if(50<Gs)throw Gs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===Is||(e===Is&&(0===(2&Ns)&&(Fs|=n),4===Ls&&lu(e,Rs)),ru(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(Vs=Je()+500,zi&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),l=1<<o,s=i[o];-1===s?0!==(l&n)&&0===(l&r)||(i[o]=ht(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=ft(e,e===Is?Rs:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,Hi(e)}(su.bind(null,e)):Hi(su.bind(null,e)),oi((function(){0===(6&Ns)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xs=-1,Zs=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Is?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Ns;Ns|=2;var o=pu();for(Is===e&&Rs===t||(qs=null,Vs=Je()+500,fu(e,t));;)try{gu();break}catch(s){hu(e,s)}ka(),xs.current=o,Ns=i,null!==Ps?t=0:(Is=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=js,fu(e,0),lu(e,r),ru(e,Je()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=js,fu(e,0),lu(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:ku(e,Us,qs);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Hs+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(ku.bind(null,e,Us,qs),t);break}ku(e,Us,qs);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-ot(r);o=1<<l,(l=t[l])>i&&(i=l),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(ku.bind(null,e,Us,qs),r);break}ku(e,Us,qs);break;default:throw Error(a(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Us,Us=n,null!==t&&ou(t)),e}function ou(e){null===Us?Us=e:Us.push.apply(Us,e)}function lu(e,t){for(t&=~As,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(6&Ns))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=js,fu(e,0),lu(e,t),ru(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Us,qs),ru(e,Je()),null}function uu(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Vs=Je()+500,zi&&Vi())}}function cu(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&wu();var t=Ns;Ns|=1;var n=Ts.transition,r=_t;try{if(Ts.transition=null,_t=1,e)return e()}finally{_t=r,Ts.transition=n,0===(6&(Ns=t))&&Vi()}}function du(){Os=Ds.current,xi(Ds)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),xi(Ii),xi(Ni),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(lo);break;case 10:wa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Is=e,Ps=e=Du(e.current,null),Rs=Os=t,Ls=0,js=null,As=Fs=Ms=0,Us=zs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function hu(e,t){for(;;){var n=Ps;try{if(ka(),fo.current=ol,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,bo=0,Es.current=null,null===n||null===n.return){Ls=1,js=t,Ps=null;break}e:{var o=e,l=n.return,s=n,u=t;if(t=Rs,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yl(l);if(null!==p){p.flags&=-257,gl(p,l,s,0,t),1&p.mode&&ml(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ml(o,c,t),vu();break e}u=Error(a(426))}else if(ia&&1&s.mode){var y=yl(l);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gl(y,l,s,0,t),pa(cl(u,s));break e}}o=u=cl(u,s),4!==Ls&&(Ls=2),null===zs?zs=[o]:zs.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pl(0,u,t));break e;case 1:s=u;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$s||!$s.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vl(o,s,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function pu(){var e=xs.current;return xs.current=ol,null===e?ol:e}function vu(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Is||0===(268435455&Ms)&&0===(268435455&Fs)||lu(Is,Rs)}function mu(e,t){var n=Ns;Ns|=2;var r=pu();for(Is===e&&Rs===t||(qs=null,fu(e,t));;)try{yu();break}catch(i){hu(e,i)}if(ka(),Ns=n,xs.current=r,null!==Ps)throw Error(a(261));return Is=null,Rs=0,Ls}function yu(){for(;null!==Ps;)_u(Ps)}function gu(){for(;null!==Ps&&!Ke();)_u(Ps)}function _u(e){var t=Cs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bu(e):Ps=t,Es.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ql(n,t,Os)))return void(Ps=n)}else{if(null!==(n=Yl(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function ku(e,t,n){var r=_t,i=Ts.transition;try{Ts.transition=null,_t=1,function(e,t,n,r){do{wu()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Is&&(Ps=Is=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Iu(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var l=_t;_t=1;var s=Ns;Ns|=4,Es.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var l=0,s=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=l+i),f!==o||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=l),h===o&&++d===r&&(u=l),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){Su(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ge(),Ns=s,_t=l,Ts.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Ks=i),0===(o=e.pendingLanes)&&($s=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Bs,Bs=null,e;0!==(1&Ks)&&0!==e.tag&&wu(),0!==(1&(o=e.pendingLanes))?e===Js?Gs++:(Gs=0,Js=e):Gs=0,Vi()}(e,t,n,r)}finally{Ts.transition=i,_t=r}return null}function wu(){if(null!==Ys){var e=bt(Ks),t=Ts.transition,n=_t;try{if(Ts.transition=null,_t=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Ks=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Xl=e.current;null!==Xl;){var o=Xl,l=o.child;if(0!==(16&Xl.flags)){var s=o.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Xl=c;null!==Xl;){var d=Xl;switch(d.tag){case 0:case 11:case 15:ns(8,d,o)}var f=d.child;if(null!==f)f.return=d,Xl=f;else for(;null!==Xl;){var h=(d=Xl).sibling,p=d.return;if(as(d),d===c){Xl=null;break}if(null!==h){h.return=p,Xl=h;break}Xl=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xl=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,Xl=l;else e:for(;null!==Xl;){if(0!==(2048&(o=Xl).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xl=g;break e}Xl=o.return}}var _=e.current;for(Xl=_;null!==Xl;){var b=(l=Xl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Xl=b;else e:for(l=_;null!==Xl;){if(0!==(2048&(s=Xl).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(w){Su(s,s.return,w)}if(s===l){Xl=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Xl=k;break e}Xl=s.return}}if(Ns=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Ts.transition=t}}return!1}function Cu(e,t,n){e=La(e,t=pl(0,t=cl(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){t=La(t,e=vl(t,e=cl(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Je()-Hs?fu(e,0):As|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ia(e,t))&&(yt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}function Iu(e,t){return Qe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var l=2;if(r=e,"function"===typeof e)Ou(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case C:return ju(n.children,i,o,t);case S:l=8,i|=8;break;case x:return(e=Ru(12,n,t,2|i)).elementType=x,e.lanes=o,e;case I:return(e=Ru(13,n,t,i)).elementType=I,e.lanes=o,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:l=10;break e;case T:l=9;break e;case N:l=11;break e;case R:l=14;break e;case O:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(l,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ju(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Au(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,a,o,l,s){return e=new zu(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return ji(e,n,t)}return t}function qu(e,t,n,r,i,a,o,l,s){return(e=Uu(n,r,!0,e,0,a,0,l,s)).context=Vu(null),n=e.current,(a=Da(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(nu(e,i,o,a),ja(e,i,o)),o}function Bu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Cs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Pl(t),ha();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fl(e,t,n):(Ei(lo,1&lo.current),null!==(e=Wl(e,t,n))?e.sibling:null);Ei(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,xl(e,t,n)}return Wl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,ia&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var i=Ri(t,Ni.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Ba(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),kl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Nl(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=Cl(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Pl(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rl(e,t,r,n,i=cl(Error(a(423)),t));break e}if(r!==i){t=Rl(e,t,r,n,i=cl(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wl(e,t,n);break e}kl(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==o&&ni(r,o)&&(t.flags|=32),El(e,t),kl(e,t,l,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fl(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):kl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return kl(e,t,t.pendingProps,n),t.child;case 8:case 12:return kl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Ei(ya,r._currentValue),r._currentValue=l,null!==o)if(lr(o.value,l)){if(o.children===i.children&&!Ii.current){t=Wl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){l=o.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ca(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(a(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ca(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}kl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,kl(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Cl(e,t,r,i=ma(r.type,i),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),ql(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ba(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return Vl(e,t,n);case 22:return xl(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var l=i;i=function(){var e=Bu(o);l.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Bu(o);a.call(e)}}var o=qu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Bu(s);l.call(e)}}var s=Uu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,s,n,r)})),s}(n,t,e,i,r);return Bu(o)}Gu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Gu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[pi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Je()),0===(6&Ns)&&(Vs=Je()+500,Vi()))}break;case 13:cu((function(){var t=Ia(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Qu(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nu(t,e,134217728,eu());Qu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=Ia(e,t);if(null!==n)nu(n,e,t,eu());Qu(e,t)}},St=function(){return _t},xt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));Q(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uu,Ie=cu;var tc={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ee,Te,uu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return Hu(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",l=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,o,l),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:l.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=_.prototype=new g;b.constructor=_,v(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:l,props:a,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+N(s,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var u=0;u<e.length;u++){var c=a+N(l=e[u],u);s+=I(l,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=I(l=l.value,t,i,c=a+N(l,u++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:C};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)w.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,n))u<i&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,D(w);else{var t=r(c);null!==t&&L(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var l=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&L(k,d.startTime-n),s=!1}return s}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,x=null,E=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function P(){if(null!==x){var e=t.unstable_now();N=e;var n=!0;try{n=x(!0,e)}finally{n?C():(S=!1,x=null)}}else S=!1}if("function"===typeof _)C=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=P,C=function(){O.postMessage(null)}}else C=function(){y(P,0)};function D(e){x=e,S||(S=!0,C())}function L(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(g(E),E=-1):m=!0,L(k,a-o))):(e.sortIndex=l,n(u,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e=n(791),t=n.t(e,2),r=n(250);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===f)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};u(m,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&n.call(g,i)&&(m=g);var _=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,u(_,"constructor",v),u(v,"constructor",p),p.displayName=u(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(_),u(_,o,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function u(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(Ii){return void n(Ii)}l.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,l,"next",e)}function l(e){u(a,r,i,o,l,"throw",e)}o(void 0)}))}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v,m=e.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),y=n(184),g=JSON.parse(window.localStorage.getItem("myItems"))?JSON.parse(window.localStorage.getItem("myItems")):{items:[],totalAmount:0},_=function(e,t){if("ADD_ITEM"===t.type){var n,r=e.totalAmount+t.item.price*t.item.amount,i=e.items.findIndex((function(e){return e.id===t.item.id})),a=e.items[i];if(a){var l=o(o({},a),{},{amount:a.amount+t.item.amount});(n=p(e.items))[i]=l}else n=e.items.concat(t.item);return setTimeout((function(){return window.localStorage.setItem("myItems",JSON.stringify({items:n,totalAmount:r}))}),100),{items:n,totalAmount:r}}if("REMOVE_ITEM"===t.type){var s,u=e.items.findIndex((function(e){return e.id===t.id})),c=e.items[u],d=e.totalAmount-c.price;if(1===c.amount)s=e.items.filter((function(e){return e.id!==t.id}));else{var f=o(o({},c),{},{amount:c.amount-1});(s=p(e.items))[u]=f}return setTimeout((function(){return window.localStorage.setItem("myItems",JSON.stringify({items:s,totalAmount:d}))}),100),{items:s,totalAmount:d}}return"CLEAR"===t.type?(window.localStorage.removeItem("myItems"),{items:[],totalAmount:0}):g},b=function(t){var n=h((0,e.useReducer)(_,g),2),r=n[0],i=n[1],a={items:r.items,totalAmount:r.totalAmount,addItem:function(e){i({type:"ADD_ITEM",item:e})},removeItem:function(e){i({type:"REMOVE_ITEM",id:e})},resetCart:function(){i({type:"CLEAR"})}};return(0,y.jsx)(m.Provider,{value:a,children:t.children})};function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function P(e){var t=T();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function R(e,t,n){return R=T()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&S(i,n.prototype),i},R.apply(null,arguments)}function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return R(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,e)},O(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(v||(v={}));var L,j="popstate";function M(e){return{usr:e.state,key:e.key}}function F(e,t,n,r){return void 0===n&&(n=null),D({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?z(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function A(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function z(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:A(e);return new URL(n,t)}function H(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,l=i.v5Compat,s=void 0!==l&&l,u=o.history,c=v.Pop,d=null;function f(){c=v.Pop,d&&d({action:c,location:h.location})}var h={get action(){return c},get location(){return e(o,u)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(j,f),d=e,function(){o.removeEventListener(j,f),d=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=U(A(e));return D({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){c=v.Push;var r=F(h.location,e,t);n&&n(r,e);var i=M(r),a=h.createHref(r);try{u.pushState(i,"",a)}catch(Ii){o.location.assign(a)}s&&d&&d({action:c,location:h.location})},replace:function(e,t){c=v.Replace;var r=F(h.location,e,t);n&&n(r,e);var i=M(r),a=h.createHref(r);u.replaceState(i,"",a),s&&d&&d({action:c,location:h.location})},go:function(e){return u.go(e)}};return h}function V(e,t,n){void 0===n&&(n="/");var r=G(("string"===typeof t?z(t):t).pathname||"/",n);if(null==r)return null;var i=q(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],K(r));return a}function q(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(J(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=ne([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(J(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),q(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:$(o,e.index),routesMeta:l})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(L||(L={}));var W=/^:\w+$/,B=function(e){return"*"===e};function $(e,t){var n=e.split("/"),r=n.length;return n.some(B)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!B(e)})).reduce((function(e,t){return e+(W.test(t)?3:""===t?1:10)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var l=n[o],s=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=Y({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);var d=l.route;a.push({params:r,pathname:ne([i,c.pathname]),pathnameBase:re(ne([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=ne([i,c.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);X("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var l=o[0],s=l.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";s=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Ii){return X(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Ii+")."),e}}(u[n]||"",t),e}),{});return{params:c,pathname:l,pathnameBase:s,pattern:e}}function K(e){try{return decodeURI(e)}catch(Ii){return X(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Ii+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function X(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=z(e):(J(!(i=D({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),J(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),J(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(r||null==l)a=n;else{var s=t.length-1;if(l.startsWith("..")){for(var u=l.split("/");".."===u[0];)u.shift(),s-=1;i.pathname=u.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?z(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,l=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(l)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),f=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){x(n,e);var t=P(n);function n(){return k(this,n),t.apply(this,arguments)}return C(n)}(O(Error));var le=C((function e(t,n,r){k(this,e),this.status=t,this.statusText=n||"",this.data=r}));function se(e){return e instanceof le}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ue=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(p(ue)));function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var de="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fe=e.useState,he=e.useEffect,pe=e.useLayoutEffect,ve=e.useDebugValue;function me(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!de(n,r)}catch(Ii){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var ye=e.createContext(null);var ge=e.createContext(null);var _e=e.createContext(null);var be=e.createContext(null);var ke=e.createContext(null);var we=e.createContext(null);var Ce=e.createContext({outlet:null,matches:[]});var Se=e.createContext(null);function xe(){return null!=e.useContext(we)}function Ee(){return xe()||J(!1),e.useContext(we).location}function Te(){xe()||J(!1);var t=e.useContext(ke),n=t.basename,r=t.navigator,i=e.useContext(Ce).matches,a=Ee().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase}))),l=e.useRef(!1);return e.useEffect((function(){l.current=!0})),e.useCallback((function(e,t){if(void 0===t&&(t={}),l.current)if("number"!==typeof e){var i=te(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ne([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}function Ne(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(Ce).matches,a=Ee().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return te(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Ie(){var t=function(){var t,n=e.useContext(Se),r=je(Re.UseRouteError),i=e.useContext(Ce),a=i.matches[i.matches.length-1];if(n)return n;return i||J(!1),!a.route.id&&J(!1),null==(t=r.errors)?void 0:t[a.route.id]}(),n=se(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:o},"errorElement")," props on\xa0",e.createElement("code",{style:o},"<Route>")))}var Pe,Re,Oe=function(t){x(r,t);var n=P(r);function r(e){var t;return k(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return C(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Se.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function De(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(ye);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),e.createElement(Ce.Provider,{value:n},i)}function Le(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||J(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,l){var s=o.route.id?null==a?void 0:a[o.route.id]:null,u=r?o.route.errorElement||e.createElement(Ie,null):null,c=function(){return e.createElement(De,{match:o,routeContext:{outlet:t,matches:n.concat(i.slice(0,l+1))}},s?u:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===l)?e.createElement(Oe,{location:r.location,component:u,error:s,children:c()}):c()}),null)}function je(t){var n=e.useContext(_e);return n||J(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Pe||(Pe={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Re||(Re={}));var Me;function Fe(e){J(!1)}function Ae(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,l=t.navigationType,s=void 0===l?v.Pop:l,u=t.navigator,c=t.static,d=void 0!==c&&c;xe()&&J(!1);var f=r.replace(/^\/*/,"/"),h=e.useMemo((function(){return{basename:f,navigator:u,static:d}}),[f,u,d]);"string"===typeof o&&(o=z(o));var p=o,m=p.pathname,y=void 0===m?"/":m,g=p.search,_=void 0===g?"":g,b=p.hash,k=void 0===b?"":b,w=p.state,C=void 0===w?null:w,S=p.key,x=void 0===S?"default":S,E=e.useMemo((function(){var e=G(y,f);return null==e?null:{pathname:e,search:_,hash:k,state:C,key:x}}),[f,y,_,k,C,x]);return null==E?null:e.createElement(ke.Provider,{value:h},e.createElement(we.Provider,{children:a,value:{location:E,navigationType:s}}))}function ze(t){var n=t.children,r=t.location,i=e.useContext(ge);return function(t,n){xe()||J(!1);var r,i=e.useContext(_e),a=e.useContext(Ce).matches,o=a[a.length-1],l=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,Ee());if(n){var c,d="string"===typeof n?z(n):n;"/"===s||(null==(c=d.pathname)?void 0:c.startsWith(s))||J(!1),r=d}else r=u;var f=r.pathname||"/",h=V(t,{pathname:"/"===s?f:f.slice(s.length)||"/"}),p=Le(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ne([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:ne([s,e.pathnameBase])})})),a,i||void 0);return n&&p?e.createElement(we.Provider,{value:{location:ce({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:v.Pop}},p):p}(i&&!n?i.router.routes:He(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ue=new Promise((function(){}));e.Component;function He(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==Fe&&J(!1),t.props.index&&t.props.children&&J(!1);var a=[].concat(p(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=He(t.props.children,a)),r.push(o)}else r.push.apply(r,He(t.props.children,n))})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Be(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),H((function(e,t){var n=e.location;return F("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:A(t)}),null,n)));var l=o.current,s=h(e.useState({action:l.action,location:l.location}),2),u=s[0],c=s[1];return e.useLayoutEffect((function(){return l.listen(c)}),[l]),e.createElement(Ae,{basename:r,children:i,location:u.location,navigationType:u.action,navigator:l})}var $e=e.forwardRef((function(t,n){var r=t.onClick,i=t.relative,a=t.reloadDocument,o=t.replace,l=t.state,s=t.target,u=t.to,c=t.preventScrollReset,d=qe(t,We),f=function(t,n){var r=(void 0===n?{}:n).relative;xe()||J(!1);var i=e.useContext(ke),a=i.basename,o=i.navigator,l=Ne(t,{relative:r}),s=l.hash,u=l.pathname,c=l.search,d=u;return"/"!==a&&(d="/"===u?a:ne([a,u])),o.createHref({pathname:d,search:c,hash:s})}(u,{relative:i}),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,l=r.preventScrollReset,s=r.relative,u=Te(),c=Ee(),d=Ne(t,{relative:s});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:A(c)===A(d);u(t,{replace:n,state:o,preventScrollReset:l,relative:s})}}),[c,u,d,a,o,i,t,l,s])}(u,{replace:o,state:l,target:s,preventScrollReset:c,relative:i});return e.createElement("a",Ve({},d,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||h(e)},ref:n,target:s}))}));var Qe,Ye;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ye||(Ye={}));var Ke="Header_header__DK8E3",Ge="Header_logoImg__zzgrP",Je="Header_link__Ggnu0",Xe="Header_links__b1VBq",Ze="Header_main-image__fHOUD",et="Header_displayNone__MFbBQ",tt=n.p+"static/media/maintenance.f3d947524461792d4324.jpg",nt=n.p+"static/media/icb.38c9f85239e9d9dcb95d.jpg",rt=n.p+"static/media/logo.7510cc2f3c03b7239dad.png",it="HeaderCartButton_button__w+V1R",at="HeaderCartButton_icon__JyGd4",ot="HeaderCartButton_badge__DzOPi",lt="HeaderCartButton_bump__uFzQy",st="HeaderCartButton_cartText__FEJM0",ut=function(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,y.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},ct=function(t){var n=(0,e.useContext)(m).items,r=n.reduce((function(e,t){return e+t.amount}),0),i=h((0,e.useState)(!1),2),a=i[0],o=i[1];(0,e.useEffect)((function(){if(0!==n.length){o(!0);var e=setTimeout((function(){o(!1)}),300);return function(){return clearTimeout(e)}}}),[n]);var l="".concat(it," ").concat(a?lt:null);return(0,y.jsxs)("button",{className:l,onClick:t.showCartHandler,children:[(0,y.jsx)("span",{className:at,children:(0,y.jsx)(ut,{})}),(0,y.jsx)("span",{className:st,children:"Your Cart"}),(0,y.jsx)("span",{className:ot,children:r})]})},dt=function(t){var n=h((0,e.useState)(""),2),r=n[0],i=n[1],a="meals"===r?et:Je,o="chef"===r?et:Je,l="maintenance"===r?et:Je;return(0,y.jsxs)(e.Fragment,{children:[(0,y.jsxs)("header",{className:Ke,children:[(0,y.jsxs)("div",{className:Xe,children:[(0,y.jsx)($e,{onClick:function(){return i("meals")},className:a,to:"/food",children:(0,y.jsx)("h3",{children:"ICB Food"})}),(0,y.jsx)($e,{onClick:function(){return i("chef")},className:o,to:"/chef",children:(0,y.jsx)("h4",{children:"Chef Page"})}),(0,y.jsx)($e,{onClick:function(){return i("maintenance")},className:l,to:"/maintenance",children:(0,y.jsx)("h4",{children:"Maintenance"})})]}),"meals"===r?(0,y.jsx)(ct,{showCartHandler:t.showCartHandler}):(0,y.jsx)($e,{to:"/",onClick:function(){return i("")},className:Ge,children:(0,y.jsx)("img",{src:rt,alt:"logo"})})]}),"meals"===r||"chef"===r?(0,y.jsx)("div",{className:Ze,children:(0,y.jsx)("img",{src:nt,alt:"meals"})}):"maintenance"===r?(0,y.jsx)("div",{className:Ze,children:(0,y.jsx)("img",{src:tt,alt:"maintenance"})}):null]})},ft=function(e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"footer",children:["Developed With ",(0,y.jsx)("span",{children:"\u2665"}),"  By Ahmed Khalifa & Ali Mega;"]})})},ht="MealsSummary_summary__HYzAF",pt=function(){return(0,y.jsxs)("section",{className:ht,children:[(0,y.jsx)("h2",{children:"Delicious Food, Served To You!"}),(0,y.jsx)("p",{children:"Choose your favourite meal from our broad selection of available meals and enjoy a delcious meal at ICB School."}),(0,y.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs."})]})},vt="Card_card__VEqKO",mt=function(e){return(0,y.jsx)("div",{className:vt,children:e.children})},yt="AvailableMeals_meals__GkHDg",gt="MealItem_meal__eAlE+",_t="MealItem_done__s4Ttl",bt="MealItem_description__z6SoW",kt="MealItem_price__T+hxt",wt="Input_input__e0z99",Ct=e.forwardRef((function(e,t){return(0,y.jsxs)("div",{className:wt,children:[(0,y.jsx)("label",{htmlFor:e.input.id,children:e.label}),(0,y.jsx)("input",o({ref:t,id:e.input.id},e.input))]})})),St=Ct,xt="MealItemForm_form__gaOq6",Et=function(t){var n=h((0,e.useState)(!0),2),r=n[0],i=n[1],a=(0,e.useRef)();return(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=a.current.value,r=+n;0===n.trim().length||r<1||r>10?i(!1):t.onAddToCart(r)},className:xt,children:[(0,y.jsx)(St,{ref:a,label:"Amount",input:{id:"amount_"+t.id,type:"number",min:"1",max:"10",step:"1",defaultValue:"1"}}),(0,y.jsx)("button",{children:"+ Add"}),!r&&(0,y.jsx)("p",{children:"Please Enter A Valid Amount 1-10!"})]})},Tt=function(t){var n=(0,e.useContext)(m),r="EGP".concat(Number(t.price).toFixed(2));return(0,y.jsxs)("li",{className:gt,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{children:t.name}),(0,y.jsx)("div",{className:bt,children:t.description}),(0,y.jsx)("div",{className:kt,children:r})]}),(0,y.jsx)("div",{children:(0,y.jsx)(Et,{onAddToCart:function(e){n.addItem({id:t.id,name:t.name,amount:e,price:t.price})},id:t.id})})]})},Nt={backdrop:"Modal_backdrop__-orki",modal:"Modal_modal__fX2Im","slide-down":"Modal_slide-down__Mu4zh"},It=n(164),Pt=document.getElementById("spinner"),Rt=function(e){return(0,y.jsx)("div",{className:Nt.backdrop})},Ot=function(){return(0,y.jsx)("section",{className:"talign-center",children:(0,y.jsx)("div",{className:"spinner spinner--steps2 icon-spinner-7","aria-hidden":"true"})})},Dt=function(){return(0,y.jsxs)(y.Fragment,{children:[It.createPortal((0,y.jsx)(Rt,{}),Pt),It.createPortal((0,y.jsx)(Ot,{}),Pt)]})},Lt=function(t){var n=h((0,e.useState)(t.meals),2),r=n[0],i=n[1],a=h((0,e.useState)(!0),2),o=a[0],l=a[1];return(0,e.useEffect)((function(){setTimeout((function(){return l(!1)}),1e3),i(t.meals)}),[t.meals]),(0,y.jsx)("section",{className:yt,children:(0,y.jsxs)(mt,{children:[o&&(0,y.jsx)(Dt,{}),r.length>0?(0,y.jsx)("ul",{children:r.map((function(e){return(0,y.jsx)(Tt,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}))}):(0,y.jsx)("ul",{children:(0,y.jsx)("p",{className:"errorDialogue",children:"Internet Connection Issue, Please Refresh the Page Or Check Your Connection Status!"})})]})})},jt=function(t){return(0,y.jsxs)(e.Fragment,{children:[(0,y.jsx)(pt,{}),(0,y.jsx)(Lt,{meals:t.meals})]})},Mt=function(e){return(0,y.jsx)("div",{onClick:e.showCartHandler,className:Nt.backdrop})},Ft=function(e){return(0,y.jsx)("div",{className:Nt.modal,children:(0,y.jsx)("div",{className:Nt.content,children:e.children})})},At=document.getElementById("overlays"),zt=function(t){return(0,y.jsxs)(e.Fragment,{children:[It.createPortal((0,y.jsx)(Mt,{showCartHandler:t.showCartHandler}),At),It.createPortal((0,y.jsx)(Ft,{children:t.children}),At)]})},Ut="Cart_cart-items__VzKZr",Ht="Cart_total__p+azn",Vt="Cart_actions__MPTxA",qt="Cart_closeBtn__H7Sbq",Wt="Cart_button--alt__lznJ5",Bt="Cart_button__syzTo",$t="CartItem_cart-item__VHnKQ",Qt="CartItem_summary__Cw2Xu",Yt="CartItem_price__0Dphy",Kt="CartItem_amount__PxVGe",Gt="CartItem_actions__cZh7R",Jt=function(e){var t="EGP".concat(Number(e.price).toFixed(2));return(0,y.jsxs)("li",{className:$t,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{children:e.name}),(0,y.jsxs)("div",{className:Qt,children:[(0,y.jsx)("span",{className:Yt,children:t}),(0,y.jsxs)("span",{className:Kt,children:["x ",e.amount]})]})]}),(0,y.jsxs)("div",{className:Gt,children:[(0,y.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),(0,y.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},Xt="CheckOut_form__QUHg1",Zt="CheckOut_control__yvpI+",en="CheckOut_actions__OmIMk",tn="CheckOut_submit__nP3k6",nn="CheckOut_invalid__nGylO",rn=function(t){var n=h((0,e.useState)(""),2),r=n[0],i=n[1];return{value:r,inputHandler:function(e){i(e.target.value)},isValid:t(r),resetHandler:function(){i("")}}},an=function(e){return""!==e.trim()},on=function(e){return 11===e.length},ln=function(t){var n=h((0,e.useState)({nameValidation:!0,streetValidation:!0,postalCodeValidation:!0,cityValidation:!0}),2),r=n[0],i=n[1],a=rn(an),l=a.value,s=a.isValid,u=a.inputHandler,c=a.resetHandler,d=rn(an),f=d.value,p=d.isValid,v=d.inputHandler,m=d.resetHandler,g=rn(on),_=g.value,b=g.isValid,k=g.inputHandler,w=g.resetHandler,C=rn(an),S=C.value,x=C.isValid,E=C.inputHandler,T=C.resetHandler,N=s&&p&&b&&x;return(0,y.jsxs)("form",{className:Xt,onSubmit:function(e){if(e.preventDefault(),!N)return i(s?function(e){return o(o({},e),{},{nameValidation:!0})}:function(e){return o(o({},e),{},{nameValidation:!1})}),i(p?function(e){return o(o({},e),{},{streetValidation:!0})}:function(e){return o(o({},e),{},{streetValidation:!1})}),i(b?function(e){return o(o({},e),{},{postalCodeValidation:!0})}:function(e){return o(o({},e),{},{postalCodeValidation:!1})}),void i(x?function(e){return o(o({},e),{},{cityValidation:!0})}:function(e){return o(o({},e),{},{cityValidation:!1})});var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();t.onConfirm({name:l,street:f,postalCode:_,city:S,showTime:r}),c(),m(),w(),T(),i({nameValidation:!0,streetValidation:!0,postalCodeValidation:!0,cityValidation:!0})},children:[(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.nameValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"name",children:"Your Name"}),(0,y.jsx)("input",{onChange:u,type:"text",id:"name",value:l}),!r.nameValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Name"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.streetValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"street",children:"Class or Room"}),(0,y.jsx)("input",{onChange:v,type:"text",id:"street",value:f}),!r.streetValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Class Or Room"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.postalCodeValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"postal",children:"Phone Number"}),(0,y.jsx)("input",{onChange:k,type:"text",id:"postal",value:_}),!r.postalCodeValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Phone Number"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.cityValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"city",children:"Floor"}),(0,y.jsx)("input",{onChange:E,type:"text",id:"city",value:S}),!r.cityValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Floor"})]}),(0,y.jsxs)("div",{className:en,children:[(0,y.jsx)("button",{type:"button",onClick:t.onCancel,children:"Cancel"}),(0,y.jsx)("button",{className:tn,children:"Confirm"})]})]})},sn=function(t){var n=h((0,e.useState)(!1),2),r=n[0],i=n[1],a=h((0,e.useState)(!1),2),l=a[0],u=a[1],d=h((0,e.useState)(!1),2),f=d[0],p=d[1],v=(0,e.useContext)(m),g="EGP".concat(Number(v.totalAmount).toFixed(2)),_=v.items.length>0,b=function(e){v.removeItem(e)},k=function(e){v.addItem(o(o({},e),{},{amount:1}))},w=function(){var e=c(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch("https://icb-2023-default-rtdb.firebaseio.com/oreders.json",{method:"POST",body:JSON.stringify({user:n,items:v.items,totalAmount:g})});case 3:setTimeout((function(){u(!1),p(!0),t.fetchOrders()}),2e3),v.resetCart();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){p(!1),t.showCartHandler()},S=(0,y.jsx)("ul",{className:Ut,children:v.items.map((function(e){return(0,y.jsx)(Jt,{name:e.name,amount:e.amount,price:e.price,onAdd:k.bind(null,e),onRemove:b.bind(null,e.id)},e.id)}))}),x=r?(0,y.jsx)(ln,{onConfirm:w,onCancel:t.showCartHandler}):(0,y.jsxs)("div",{className:Vt,children:[(0,y.jsx)("button",{onClick:C,className:Wt,children:"Close"}),_&&(0,y.jsx)("button",{className:Bt,onClick:function(){i(!0)},children:"Order"})]}),E=f?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"ORDER SENT SUCCESSFULLY"}),(0,y.jsx)("button",{onClick:C,className:qt,children:"Close"})]}):l?(0,y.jsxs)("section",{className:"talign-center",children:[(0,y.jsx)("div",{className:"spinnerBlack spinner--steps2 icon-spinner-7","aria-hidden":"true"}),(0,y.jsx)("p",{children:"SENDING ORDER TO THE CHEF!!"})]}):(0,y.jsxs)(y.Fragment,{children:[S,(0,y.jsxs)("div",{className:Ht,children:[(0,y.jsx)("span",{children:"Total Amount"}),(0,y.jsx)("span",{children:g})]}),x]});return(0,y.jsx)(zt,{showCartHandler:t.showCartHandler,children:E})},un=function(e){return""!==e.trim()},cn=function(t){var n=h((0,e.useState)({nameValidation:!0,description:!0,priceValidation:!0}),2),r=n[0],i=n[1],a=rn(un),l=a.value,s=a.isValid,u=a.inputHandler,c=a.resetHandler,d=rn(un),f=d.value,p=d.isValid,v=d.inputHandler,m=d.resetHandler,g=s&&p;return(0,y.jsxs)("form",{style:{width:"60%",margin:"auto",padding:"20px",borderRadius:"20px",backgroundColor:"#eee",overflow:"auto"},className:Xt,onSubmit:function(e){if(e.preventDefault(),!g)return i(s?function(e){return o(o({},e),{},{nameValidation:!0})}:function(e){return o(o({},e),{},{nameValidation:!1})}),void i(p?function(e){return o(o({},e),{},{descriptionValidation:!0})}:function(e){return o(o({},e),{},{descriptionValidation:!1})});var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();t.addMaintenanceOrder({name:l,description:f,showTime:r}),c(),m(),i({nameValidation:!0,descriptionValidation:!0})},children:[(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.nameValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"name",children:"Name"}),(0,y.jsx)("input",{onChange:u,type:"text",id:"name",value:l}),!r.nameValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Name"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.descriptionValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"description",children:"Description"}),(0,y.jsx)("input",{onChange:v,type:"text",id:"description",value:f}),!r.descriptionValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Description"})]}),(0,y.jsxs)("div",{style:{margin:"10px"},className:en,children:[(0,y.jsx)("button",{type:"button",onClick:t.addOrderHandler,children:"Cancel"}),(0,y.jsx)("button",{className:tn,children:"Confirm"})]})]})},dn=function(t){var n=h((0,e.useState)([]),2),r=n[0],i=n[1],a=h((0,e.useState)(!0),2),o=a[0],l=a[1];return(0,e.useEffect)((function(){var e=setInterval((function(){t.fetchMaintenanceOrders();var e=[],n=t.maintenanceOrders.filter((function(t){return!e.includes(t.id)&&(e.push(t.id),!0)}));setTimeout((function(){l(!1),i(n)}),200)}),200);return function(){return clearInterval(e)}}),[]),(0,y.jsx)("section",{className:yt,children:(0,y.jsxs)(mt,{children:[o&&(0,y.jsx)(Dt,{}),r.length>0?(0,y.jsx)("ul",{children:r.map((function(e){return(0,y.jsxs)("li",{className:gt,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{children:e.name}),(0,y.jsx)("div",{className:bt,children:e.description})]}),(0,y.jsx)("div",{className:kt,children:e.showTime})]},e.id)}))}):(0,y.jsx)("div",{className:gt,children:(0,y.jsx)("h3",{children:"Have A Coffee, No Orders Right Now!!"})})]})})},fn=function(t){var n=h((0,e.useState)(""),2),r=n[0],i=n[1],a=h((0,e.useState)(!1),2),o=a[0],l=a[1],s=h((0,e.useState)(!1),2),u=s[0],c=s[1],d=function(){l((function(e){return!e}))};return(0,y.jsx)(mt,{children:"FFFFFF"!==r?(0,y.jsxs)("div",{className:"passcode",children:[(0,y.jsx)("label",{htmlFor:"pass",children:"Please Enter A Valid Passcode !"}),(0,y.jsx)("input",{onChange:function(e){i(e.target.value)},type:"password",id:"pass",value:r})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"chefButtons",children:[(0,y.jsx)("button",{onClick:d,children:"Add Order"}),(0,y.jsx)("button",{onClick:function(){c((function(e){return!e}))},children:"Orders"})]}),o&&(0,y.jsx)(cn,{addOrderHandler:d,addMaintenanceOrder:t.addMaintenanceOrderHandler}),u&&(0,y.jsx)(dn,{fetchMaintenanceOrders:t.fetchMaintenanceOrders,maintenanceOrders:t.maintenanceOrders})]})})},hn=function(e){return""!==e.trim()},pn=function(e){return!isNaN(Number(e))&&"number"===typeof Number(e)},vn=function(t){var n=h((0,e.useState)({nameValidation:!0,description:!0,priceValidation:!0}),2),r=n[0],i=n[1],a=rn(hn),l=a.value,s=a.isValid,u=a.inputHandler,c=a.resetHandler,d=rn(pn),f=d.value,p=d.isValid,v=d.inputHandler,m=d.resetHandler,g=rn(hn),_=g.value,b=g.isValid,k=g.inputHandler,w=g.resetHandler,C=s&&b&&p;return(0,y.jsxs)("form",{style:{width:"60%",margin:"auto",padding:"20px",borderRadius:"20px",backgroundColor:"#eee",overflow:"auto"},className:Xt,onSubmit:function(e){if(e.preventDefault(),!C)return i(s?function(e){return o(o({},e),{},{nameValidation:!0})}:function(e){return o(o({},e),{},{nameValidation:!1})}),i(p?function(e){return o(o({},e),{},{priceValidation:!0})}:function(e){return o(o({},e),{},{priceValidation:!1})}),void i(b?function(e){return o(o({},e),{},{descriptionValidation:!0})}:function(e){return o(o({},e),{},{descriptionValidation:!1})});t.submitOrderHandler({name:l,price:Number(f),description:_}),c(),m(),w(),i({nameValidation:!0,priceValidation:!0,descriptionValidation:!0})},children:[(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.nameValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"name",children:"Name"}),(0,y.jsx)("input",{onChange:u,type:"text",id:"name",value:l}),!r.nameValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Name"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.priceValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"price",children:"Price"}),(0,y.jsx)("input",{onChange:v,type:"text",id:"price",value:f}),!r.priceValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Price"})]}),(0,y.jsxs)("div",{className:"".concat(Zt," ").concat(r.descriptionValidation?"":nn),children:[(0,y.jsx)("label",{htmlFor:"description",children:"Description"}),(0,y.jsx)("input",{onChange:k,type:"text",id:"description",value:_}),!r.descriptionValidation&&(0,y.jsx)("p",{style:{fontSize:"20px",color:"red"},children:"Enter Valid Description"})]}),(0,y.jsxs)("div",{style:{margin:"10px"},className:en,children:[(0,y.jsx)("button",{type:"button",onClick:t.addMealHandler,children:"Cancel"}),(0,y.jsx)("button",{className:tn,children:"Confirm"})]})]})},mn=function(t){var n=h((0,e.useState)(t.meals),2),r=n[0],i=n[1],a=h((0,e.useState)(!0),2),o=a[0],l=a[1];(0,e.useEffect)((function(){setTimeout((function(){return l(!1)}),1e3),i(t.meals)}),[t.meals]);return(0,y.jsx)("section",{className:yt,children:(0,y.jsxs)(mt,{children:[o&&(0,y.jsx)(Dt,{}),r.length>0?(0,y.jsx)("ul",{children:r.map((function(e){var n="EGP ".concat(Number(e.price).toFixed(2));return(0,y.jsxs)("li",{className:gt,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{children:e.name}),(0,y.jsx)("div",{className:bt,children:e.description}),(0,y.jsx)("div",{className:kt,children:n})]}),(0,y.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return function(e,n){var a=prompt('You Are Going To Delete Meal, Please Type "Yes" To Premenantly Delete The Item Or Cancel If You Wouldn\'t Delete It');if(a){if("yes"!==a.toLowerCase())return;t.deleteItemHandler(e,n);var o=[],l=r.filter((function(e){return!o.includes(e.id)&&(o.push(e.id),!0)}));i(l)}}("meals/",e.id)},children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",height:"58",width:"48",children:[(0,y.jsx)("path",{d:"M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"}),(0,y.jsx)("title",{children:"Delete This Meal"})]})})]},e.id)}))}):(0,y.jsx)("h3",{style:{color:"#FFF",textAlign:"center",letterSpacing:"2px"},children:"There Is No Meals, Please Add Some!!"})]})})},yn=function(t){var n=h((0,e.useState)(t.orders),2),r=n[0],i=n[1],a=h((0,e.useState)(!0),2),o=a[0],l=a[1],s=h((0,e.useState)([1,2,3]),2),u=s[0],c=s[1];(0,e.useEffect)((function(){var e=setInterval((function(){t.fetchOrders(),l(!1),i(t.orders);var e=[],n=r.filter((function(t){return!e.includes(t.id)&&(e.push(t.id),!0)}));i(n)}),500);return function(){return clearInterval(e)}}),[]);return(0,y.jsx)("section",{className:yt,children:(0,y.jsxs)(mt,{children:[o&&(0,y.jsx)(Dt,{}),r.length>0?(0,y.jsx)("ul",{children:r.map((function(e){return(0,y.jsxs)("li",{onClick:function(){return function(e,n){var r=prompt('You Are Going To Delete This Order, Please Type "Yes" To Premenantly Delete The Item Or Cancel If You Wouldn\'t Delete It');if(r){if("yes"!==r.toLowerCase())return;c((function(e){return[].concat(p(e),[n])})),t.deleteItemHandler(e,n)}}("oreders/",e.id)},className:"".concat(u.includes(e.id)?_t:gt),children:[(0,y.jsxs)("div",{className:"userDetails",children:[(0,y.jsxs)("div",{className:kt,children:["Time: ",e.user.showTime]}),(0,y.jsxs)("h3",{children:["Name: ",e.user.name]}),(0,y.jsxs)("div",{className:kt,children:["Phone: ",e.user.postalCode]}),(0,y.jsxs)("div",{className:bt,children:["Floor: ",e.user.city]}),(0,y.jsxs)("div",{className:kt,children:["Class: ",e.user.street]})]}),(0,y.jsx)("div",{className:"itemsOrd",children:e.items.map((function(e){return(0,y.jsxs)("div",{className:"itemsOr",children:[(0,y.jsx)("h3",{children:e.name}),(0,y.jsxs)("div",{className:kt,children:["EGP ",e.price]}),(0,y.jsxs)("div",{className:bt,children:["Amount: ",e.amount," X"]},e.id)]},e.id)}))}),(0,y.jsxs)("div",{className:"totalPrice",children:["Total Price: ",e.totalAmount]})]},e.id)}))}):(0,y.jsx)("div",{className:gt,children:(0,y.jsx)("h3",{children:"No Orders !!"})})]})})},gn=function(t){var n=h((0,e.useState)(""),2),r=n[0],i=n[1],a=h((0,e.useState)(!1),2),o=a[0],l=a[1],s=h((0,e.useState)(!1),2),u=s[0],c=s[1],d=h((0,e.useState)(!1),2),f=d[0],p=d[1],v=function(){c((function(e){return!e}))};return(0,y.jsx)(mt,{children:"AAAAAA"!==r?(0,y.jsxs)("div",{className:"passcode",children:[(0,y.jsx)("label",{htmlFor:"name",children:"Please Enter A Valid Passcode !"}),(0,y.jsx)("input",{onChange:function(e){i(e.target.value)},type:"text",id:"name",value:r})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"chefButtons",children:[(0,y.jsx)("button",{onClick:v,children:"Add Meal"}),(0,y.jsx)("button",{onClick:function(){p((function(e){return!e}))},children:"Orders"}),(0,y.jsx)("button",{onClick:function(){l((function(e){return!e}))},children:"Meals"})]}),u&&(0,y.jsx)(vn,{submitOrderHandler:t.submitOrderHandler,addMeal:u,addMealHandler:v}),o&&(0,y.jsx)(mn,{meals:t.meals,deleteItemHandler:t.deleteItemHandler}),f&&(0,y.jsx)(yn,{orders:t.orders,deleteItemHandler:t.deleteItemHandler,fetchOrders:t.fetchOrders})]})})};function _n(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}var bn=!1,kn=!1,wn="${JSCORE_VERSION}",Cn=function(e,t){if(!e)throw Sn(t)},Sn=function(e){return new Error("Firebase Database ("+wn+") INTERNAL ASSERT FAILED: "+e)},xn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},En={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,l=o?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,c=a>>2,d=(3&a)<<4|l>>4,f=(15&l)<<2|u>>6,h=63&u;s||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var l=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,l=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==l||null==s)throw Error();var u=a<<2|o>>4;if(r.push(u),64!==l){var c=o<<4&240|l>>2;if(r.push(c),64!==s){var d=l<<6&192|s;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tn=function(e){var t=xn(e);return En.encodeByteArray(t,!0)},Nn=function(e){return Tn(e).replace(/\./g,"")},In=function(e){try{return En.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pn(e){return Rn(void 0,e)}function Rn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Rn(e[n],t[n]));return e}function On(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Ln(){return!0===bn||!0===kn}var jn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Mn=function(){try{return jn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&In(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Fn=function(e){var t=function(e){var t,n;return null===(n=null===(t=Mn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},An=function(){var e;return null===(e=Mn())||void 0===e?void 0:e.config},zn=function(){function e(){var t=this;k(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return C(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Un(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nn(JSON.stringify({alg:"none",type:"JWT"})),Nn(JSON.stringify(a)),""].join(".")}var Hn=function(e){x(n,e);var t=P(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(N(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(N(a),Vn.prototype.create),a}return C(n)}(O(Error)),Vn=function(){function e(t,n,r){k(this,e),this.service=t,this.serviceName=n,this.errors=r}return C(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?qn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Hn(n,a,t);return o}}]),e}();function qn(e,t){return e.replace(Wn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Wn=/\{\$([^}]+)}/g;function Bn(e){return JSON.parse(e)}function $n(e){return JSON.stringify(e)}var Qn=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Bn(In(a[0])||""),n=Bn(In(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Gn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Xn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var l=e[o],s=t[o];if(Zn(l)&&Zn(s)){if(!Xn(l,s))return!1}else if(l!==s)return!1}for(var u=0,c=r;u<c.length;u++){var d=c[u];if(!n.includes(d))return!1}return!0}function Zn(e){return null!==e&&"object"===typeof e}function er(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var tr=function(){function e(){k(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return C(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var l,s,u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(l=f^c&(d^f),s=1518500249):(l=c^d^f,s=1859775393):p<60?(l=c&d|f&(c|d),s=2400959708):(l=c^d^f,s=3395469782);var v=(u<<5|u>>>27)+l+h+s+n[p]&4294967295;h=f,f=d,d=4294967295&(c<<30|c>>>2),c=u,u=v}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function nr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var rr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ir(e){return e&&e._delegate?e._delegate:e}var ar=function(){function e(t,n,r){k(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return C(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),or="[DEFAULT]",lr=function(){function e(t,n){k(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return C(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new zn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch(s){}var t,n=_n(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch(s){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_n(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var l=h(i.value,2),s=l[0],u=l[1],c=this.normalizeInstanceIdentifier(s);r===c&&u.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_n(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(l){i.e(l)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===or?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;return this.component?this.component.multipleInstances?e:or:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var sr,ur,cr=function(){function e(t){k(this,e),this.name=t,this.providers=new Map}return C(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new lr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),dr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ur||(ur={}));var fr={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},hr=ur.INFO,pr=(i(sr={},ur.DEBUG,"log"),i(sr,ur.VERBOSE,"log"),i(sr,ur.INFO,"info"),i(sr,ur.WARN,"warn"),i(sr,ur.ERROR,"error"),sr),vr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=pr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},mr=function(){function e(t){k(this,e),this.name=t,this._logLevel=hr,this._logHandler=vr,this._userLogHandler=null,dr.push(this)}return C(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ur))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ur.DEBUG].concat(t)),this._logHandler.apply(this,[this,ur.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ur.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ur.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ur.INFO].concat(t)),this._logHandler.apply(this,[this,ur.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ur.WARN].concat(t)),this._logHandler.apply(this,[this,ur.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ur.ERROR].concat(t)),this._logHandler.apply(this,[this,ur.ERROR].concat(t))}}]),e}();var yr,gr;var _r=new WeakMap,br=new WeakMap,kr=new WeakMap,wr=new WeakMap,Cr=new WeakMap;var Sr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return br.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gr||(gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Nr(this),n),Tr(_r.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tr(e.apply(Nr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Nr(this),t].concat(r));return kr.set(a,t.sort?t.sort():[t]),Tr(a)}}function Er(e){return"function"===typeof e?xr(e):(e instanceof IDBTransaction&&function(e){if(!br.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));br.set(e,t)}}(e),t=e,(yr||(yr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Sr):e);var t}function Tr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Tr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&_r.set(t,e)})).catch((function(){})),Cr.set(t,e),t}(e);if(wr.has(e))return wr.get(e);var t=Er(e);return t!==e&&(wr.set(e,t),Cr.set(t,e)),t}var Nr=function(e){return Cr.get(e)};var Ir,Pr,Rr=["get","getKey","getAll","getAllKeys","count"],Or=["put","add","delete","clear"],Dr=new Map;function Lr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Dr.get(t))return Dr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Or.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Rr.includes(n))){var a=function(){var e=c(s().mark((function e(t){var a,o,l,u,c,d,f=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),l=o.store,u=f.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=f[d];return r&&(l=l.index(c.shift())),e.next=6,Promise.all([(a=l)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Dr.set(t,a),a}}}Sr=function(e){return o(o({},e),{},{get:function(t,n,r){return Lr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Lr(t,n)||e.has(t,n)}})}(Sr);var jr=function(){function e(t){k(this,e),this.container=t}return C(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mr="@firebase/app",Fr="0.8.4",Ar=new mr("@firebase/app"),zr="[DEFAULT]",Ur=(i(Ir={},Mr,"fire-core"),i(Ir,"@firebase/app-compat","fire-core-compat"),i(Ir,"@firebase/analytics","fire-analytics"),i(Ir,"@firebase/analytics-compat","fire-analytics-compat"),i(Ir,"@firebase/app-check","fire-app-check"),i(Ir,"@firebase/app-check-compat","fire-app-check-compat"),i(Ir,"@firebase/auth","fire-auth"),i(Ir,"@firebase/auth-compat","fire-auth-compat"),i(Ir,"@firebase/database","fire-rtdb"),i(Ir,"@firebase/database-compat","fire-rtdb-compat"),i(Ir,"@firebase/functions","fire-fn"),i(Ir,"@firebase/functions-compat","fire-fn-compat"),i(Ir,"@firebase/installations","fire-iid"),i(Ir,"@firebase/installations-compat","fire-iid-compat"),i(Ir,"@firebase/messaging","fire-fcm"),i(Ir,"@firebase/messaging-compat","fire-fcm-compat"),i(Ir,"@firebase/performance","fire-perf"),i(Ir,"@firebase/performance-compat","fire-perf-compat"),i(Ir,"@firebase/remote-config","fire-rc"),i(Ir,"@firebase/remote-config-compat","fire-rc-compat"),i(Ir,"@firebase/storage","fire-gcs"),i(Ir,"@firebase/storage-compat","fire-gcs-compat"),i(Ir,"@firebase/firestore","fire-fst"),i(Ir,"@firebase/firestore-compat","fire-fst-compat"),i(Ir,"fire-js","fire-js"),i(Ir,"firebase","fire-js-all"),Ir),Hr=new Map,Vr=new Map;function qr(e,t){try{e.container.addComponent(t)}catch(n){Ar.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wr(e){var t=e.name;if(Vr.has(t))return Ar.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vr.set(t,e);var n,r=_n(Hr.values());try{for(r.s();!(n=r.n()).done;){qr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Br(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var $r=(i(Pr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(Pr,"bad-app-name","Illegal App name: '{$appName}"),i(Pr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(Pr,"app-deleted","Firebase App named '{$appName}' already deleted"),i(Pr,"no-options","Need to provide options, when not being deployed to hosting via source."),i(Pr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(Pr,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(Pr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),i(Pr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),i(Pr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),i(Pr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Pr),Qr=new Vn("app","Firebase",$r),Yr=function(){function e(t,n,r){var i=this;k(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",(function(){return i}),"PUBLIC"))}return C(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}]),e}();function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:zr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=An()),!n)throw Qr.create("no-options");var o=Hr.get(a);if(o){if(Xn(n,o.options)&&Xn(i,o.config))return o;throw Qr.create("duplicate-app",{appName:a})}var l,s=new cr(a),u=_n(Vr.values());try{for(u.s();!(l=u.n()).done;){var c=l.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var d=new Yr(n,i,s);return Hr.set(a,d),d}function Gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=Hr.get(e);if(!t&&e===zr)return Kr();if(!t)throw Qr.create("no-app",{appName:e});return t}function Jr(e,t,n){var r,i=null!==(r=Ur[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var l=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&l.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&l.push("and"),o&&l.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ar.warn(l.join(" "))}Wr(new ar("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Xr="firebase-heartbeat-store",Zr=null;function ei(){return Zr||(Zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,l=indexedDB.open(e,t),s=Tr(l);return i&&l.addEventListener("upgradeneeded",(function(e){i(Tr(l.result),e.oldVersion,e.newVersion,Tr(l.transaction))})),r&&l.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xr)}}).catch((function(e){throw Qr.create("idb-open",{originalErrorMessage:e.message})}))),Zr}function ti(e){return ni.apply(this,arguments)}function ni(){return(ni=c(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei();case 3:return r=e.sent,e.abrupt("return",r.transaction(Xr).objectStore(Xr).get(ai(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Hn?Ar.warn(e.t0.message):(i=Qr.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ar.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ri(e,t){return ii.apply(this,arguments)}function ii(){return(ii=c(s().mark((function e(t,n){var r,i,a,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei();case 3:return i=e.sent,a=i.transaction(Xr,"readwrite"),o=a.objectStore(Xr),e.next=8,o.put(n,ai(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Hn?Ar.warn(e.t0.message):(l=Qr.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ar.warn(l.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ai(e){return"".concat(e.name,"!").concat(e.options.appId)}var oi=function(){function e(t){var n=this;k(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ci(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return C(e,[{key:"triggerHeartbeat",value:function(){var e=c(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=li(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=c(s().mark((function e(){var t,n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=li(),n=si(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Nn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function li(){return(new Date).toISOString().substring(0,10)}function si(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_n(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),di(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),di(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var l=o();if("break"===l)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ui,ci=function(){function e(t){k(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return C(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Ii){t(Ii)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ti(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function di(e){return Nn(JSON.stringify({version:2,heartbeats:e})).length}ui="",Wr(new ar("platform-logger",(function(e){return new jr(e)}),"PRIVATE")),Wr(new ar("heartbeat",(function(e){return new oi(e)}),"PRIVATE")),Jr(Mr,Fr,ui),Jr(Mr,Fr,"esm2017"),Jr("fire-js","");Jr("firebase","9.14.0","app");var fi="@firebase/database",hi="0.13.10",pi="";var vi=function(){function e(t){k(this,e),this.domStorage_=t,this.prefix_="firebase:"}return C(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$n(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Bn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),mi=function(){function e(){k(this,e),this.cache_={},this.isInMemoryStorage=!0}return C(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Yn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),yi=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vi(t)}}catch(n){}return new mi},gi=yi("localStorage"),_i=yi("sessionStorage"),bi=new mr("@firebase/database"),ki=function(){var e=1;return function(){return e++}}(),wi=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Cn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new tr;n.update(t);var r=n.digest();return En.encodeByteArray(r)},Ci=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?$n(r):r,t+=" "}return t},Si=null,xi=!0,Ei=function(e,t){Cn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bi.logLevel=ur.VERBOSE,Si=bi.log.bind(bi),t&&_i.set("logging_enabled",!0)):"function"===typeof e?Si=e:(Si=null,_i.remove("logging_enabled"))},Ti=function(){if(!0===xi&&(xi=!1,null===Si&&!0===_i.get("logging_enabled")&&Ei(!0)),Si){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Ci.apply(null,t);Si(r)}},Ni=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ti.apply(void 0,[e].concat(n))}},Ii=function(){var e="FIREBASE INTERNAL ERROR: "+Ci.apply(void 0,arguments);bi.error(e)},Pi=function(){var e="FIREBASE FATAL ERROR: ".concat(Ci.apply(void 0,arguments));throw bi.error(e),new Error(e)},Ri=function(){var e="FIREBASE WARNING: "+Ci.apply(void 0,arguments);bi.warn(e)},Oi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Di="[MIN_NAME]",Li="[MAX_NAME]",ji=function(e,t){if(e===t)return 0;if(e===Di||t===Li)return-1;if(t===Di||e===Li)return 1;var n=Bi(e),r=Bi(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Mi=function(e,t){return e===t?0:e<t?-1:1},Fi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$n(t))},Ai=function e(t){if("object"!==typeof t||null===t)return $n(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=$n(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},zi=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ui(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Hi=function(e){Cn(!Oi(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var l=[];for(a=52;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var s=l.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()};var Vi=new RegExp("^-?(0*)\\d{1,10}$"),qi=-2147483648,Wi=2147483647,Bi=function(e){if(Vi.test(e)){var t=Number(e);if(t>=qi&&t<=Wi)return t}return null},$i=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Ri("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Qi=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Yi=function(){function e(t,n){var r=this;k(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return C(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Ri('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Ki=function(){function e(t,n,r){var i=this;k(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return C(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}]),e}(),Gi=function(){function e(t){k(this,e),this.accessToken=t}return C(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Gi.OWNER="owner";var Ji="5",Xi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zi="websocket",ea="long_polling",ta=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];k(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gi.get("host:"+t)||this._host}return C(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gi.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function na(e,t,n){var r;if(Cn("string"===typeof t,"typeof type must == string"),Cn("object"===typeof n,"typeof params must == object"),t===Zi)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ea)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ui(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ra=function(){function e(){k(this,e),this.counters_={}}return C(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Yn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Pn(this.counters_)}}]),e}(),ia={},aa={};function oa(e){var t=e.toString();return ia[t]||(ia[t]=new ra),ia[t]}var la=function(){function e(t){k(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return C(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&$i((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),sa="start",ua="close",ca=function(){function e(t,n,r,i,a,o,l){var s=this;k(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ni(t),this.stats_=oa(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),na(n,ea,e)}}return C(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new la(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ln()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new da((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===sa)n.id=a,n.password=o;else{if(i!==ua)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Ji,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Xi.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=$n(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Tn(t),r=zi(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ln()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=$n(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ln()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),da=function(){function e(t,n,r,i){if(k(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ln())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ki(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ti("frame writing exception"),l.stack&&Ti(l.stack),Ti(l)}}}return C(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ln()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Ti("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ti("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),fa=null;"undefined"!==typeof MozWebSocket?fa=MozWebSocket:"undefined"!==typeof WebSocket&&(fa=WebSocket);var ha=function(){function e(t,n,r,i,a,o,l){k(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ni(this.connId),this.stats_=oa(n),this.connURL=e.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}return C(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gi.set("previous_websocket_failure",!0);try{var r;if(Ln()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Ji,"/").concat(pi,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new fa(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var l=s.message||s.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){gi.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Bn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Cn(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=$n(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=zi(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Ji,!Ln()&&"undefined"!==typeof location&&location.hostname&&Xi.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),na(e,Zi,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==fa&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return gi.isInMemoryStorage||!0===gi.get("previous_websocket_failure")}}]),e}();ha.responsesRequiredToBeHealthy=2,ha.healthyTimeout=3e4;var pa=function(){function e(t){k(this,e),this.initTransports_(t)}return C(e,[{key:"initTransports_",value:function(t){var n=ha&&ha.isAvailable(),r=n&&!ha.previouslyFailed();if(t.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ha];else{var i,a=this.transports_=[],o=_n(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var l=i.value;l&&l.isAvailable()&&a.push(l)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ca,ha]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();pa.globalTransportInitialized_=!1;var va=function(){function e(t,n,r,i,a,o,l,s,u,c){k(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ni("c:"+this.id+":"),this.transportManager_=new pa(n),this.log_("Connection created"),this.start_()}return C(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qi((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Fi("t",e),n=Fi("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Fi("t",e),n=Fi("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Fi("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ii("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ii("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ji!==n&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qi((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qi((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),ma=function(){function e(){k(this,e)}return C(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ya=function(){function e(t){k(this,e),this.allowedEvents_=t,this.listeners_={},Cn(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return C(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=p(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Cn(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ga=function(e){x(n,e);var t=P(n);function n(){var e;return k(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Dn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return C(n,[{key:"getInitialEvent",value:function(e){return Cn("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ya),_a=function(){function e(t,n){if(k(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return C(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function ba(){return new _a("")}function ka(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wa(e){return e.pieces_.length-e.pieceNum_}function Ca(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _a(e.pieces_,t)}function Sa(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ea(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _a(t,0)}function Ta(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _a)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new _a(n,0)}function Na(e){return e.pieceNum_>=e.pieces_.length}function Ia(e,t){var n=ka(e),r=ka(t);if(null===n)return t;if(n===r)return Ia(Ca(e),Ca(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Pa(e,t){if(wa(e)!==wa(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ra(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(wa(e)>wa(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Oa=C((function e(t,n){k(this,e),this.errorPrefix_=n,this.parts_=xa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=rr(this.parts_[r]);Da(this)}));function Da(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+La(e))}function La(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ja=function(e){x(n,e);var t=P(n);function n(){var e,r,i;return k(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return C(n,[{key:"getInitialEvent",value:function(e){return Cn("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ya),Ma=1e3,Fa=function(e){x(n,e);var t=P(n);function n(e,r,i,a,o,l,s,u){var c;if(k(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=l,c.appCheckTokenProvider_=s,c.authOverride_=u,c.id=n.nextPersistentConnectionId_++,c.log_=Ni("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Ma,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Ln())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ja.getInstance().on("visible",c.onVisible_,N(c)),-1===e.host.indexOf("fblocal")&&ga.getInstance().on("online",c.onOnline_,N(c)),c}return C(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_($n(i)),Cn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new zn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Cn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Cn(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var l=o.d,s=o.s;n.warnOnListenWarnings_(l,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,l))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Qn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Qn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Cn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+$n(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ii("Unrecognized action received from server: "+$n(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Cn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ma),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=c(s().mark((function e(){var t,r,i,a,o,l,u,c,d,f,p,v,m,y,g=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,i())},d=function(e){Cn(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:p=e.sent,v=h(p,2),m=v[0],y=v[1],l?Ti("getToken() completed but was canceled"):(Ti("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,u=new va(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Ri(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),l||(this.repoInfo_.nodeAdmin&&Ri(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gn(this.interruptReasons_)&&(this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Ai(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new _a(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Ti("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Ti("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=_n(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=_n(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ln()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+pi.replace(/\./g,"-")]=1,Dn()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ga.getInstance().currentlyOnline();return Gn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Yn(e,"w")){var n=Kn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ri("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(ma);Fa.nextPersistentConnectionId_=0,Fa.nextConnectionId_=0;var Aa,za=function(){function e(t,n){k(this,e),this.name=t,this.node=n}return C(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ua=function(){function e(){k(this,e)}return C(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new za(Di,e),r=new za(Di,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return za.MIN}}]),e}(),Ha=function(e){x(n,e);var t=P(n);function n(){return k(this,n),t.apply(this,arguments)}return C(n,[{key:"compare",value:function(e,t){return ji(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Sn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return za.MIN}},{key:"maxPost",value:function(){return new za(Li,Aa)}},{key:"makePost",value:function(e,t){return Cn("string"===typeof e,"KeyIndex indexValue must always be a string."),new za(e,Aa)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Aa},set:function(e){Aa=e}}]),n}(Ua),Va=new Ha,qa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;k(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return C(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Wa=function(){function e(t,n,r,i,a){k(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qa.EMPTY_NODE,this.right=null!=a?a:Qa.EMPTY_NODE}return C(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Qa.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qa.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Wa.RED=!0,Wa.BLACK=!1;var Ba,$a=function(){function e(){k(this,e)}return C(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wa(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Qa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;k(this,e),this.comparator_=t,this.root_=n}return C(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Wa.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new qa(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new qa(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new qa(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new qa(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ya(e,t){return ji(e.name,t.name)}function Ka(e,t){return ji(e,t)}Qa.EMPTY_NODE=new $a;var Ga,Ja,Xa,Za=function(e){return"number"===typeof e?"number:"+Hi(e):"string:"+e},eo=function(e){if(e.isLeafNode()){var t=e.val();Cn("string"===typeof t||"number"===typeof t||"object"===typeof t&&Yn(t,".sv"),"Priority must be a string or number.")}else Cn(e===Ba||e.isEmpty(),"priority of unexpected type.");Cn(e===Ba||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},to=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;k(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Cn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),eo(this.priorityNode_)}return C(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Na(t)?this:".priority"===ka(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=ka(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Cn(".priority"!==r||1===wa(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ca(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Za(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Hi(this.value_):this.value_,this.lazyHash_=wi(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Cn(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Cn(i>=0,"Unknown leaf type: "+n),Cn(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Ga},set:function(e){Ga=e}}]),e}();to.VALUE_TYPE_ORDER=["object","boolean","number","string"];var no,ro,io=function(e){x(n,e);var t=P(n);function n(){return k(this,n),t.apply(this,arguments)}return C(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ji(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return za.MIN}},{key:"maxPost",value:function(){return new za(Li,new to("[PRIORITY-POST]",Xa))}},{key:"makePost",value:function(e,t){var n=Ja(e);return new za(t,new to("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ua),ao=new io,oo=Math.log(2),lo=function(){function e(t){k(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/oo,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return C(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),so=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,l=i-r;if(0===l)return null;if(1===l)return a=e[r],o=n?n(a):a,new Wa(o,a.node,Wa.BLACK,null,null);var s=parseInt(l/2,10)+r,u=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new Wa(o,a.node,Wa.BLACK,u,c)},a=function(t){for(var r=null,a=null,o=e.length,l=function(t,r){var a=o-t,l=o;o-=t;var u=i(a+1,l),c=e[a],d=n?n(c):c;s(new Wa(d,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(u+1));c?l(d,Wa.BLACK):(l(d,Wa.BLACK),l(d,Wa.RED))}return a}(new lo(e.length));return new Qa(r||t,a)},uo={},co=function(){function e(t,n){k(this,e),this.indexes_=t,this.indexSet_=n}return C(e,[{key:"get",value:function(e){var t=Kn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qa?t:null}},{key:"hasIndex",value:function(e){return Yn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Cn(t!==Va,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(za.Wrap),l=o.getNext();l;)a=a||t.isDefinedOn(l.node),i.push(l),l=o.getNext();r=a?so(i,t.getCompare()):uo;var s=t.toString(),u=Object.assign({},this.indexSet_);u[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,u)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Jn(this.indexes_,(function(e,i){var a=Kn(r.indexSet_,i);if(Cn(a,"Missing index implementation for "+i),e===uo){if(a.isDefinedOn(t.node)){for(var o=[],l=n.getIterator(za.Wrap),s=l.getNext();s;)s.name!==t.name&&o.push(s),s=l.getNext();return o.push(t),so(o,a.getCompare())}return uo}var u=n.get(t.name),c=e;return u&&(c=c.remove(new za(t.name,u))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Jn(this.indexes_,(function(e){if(e===uo)return e;var r=n.get(t.name);return r?e.remove(new za(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Cn(uo&&ao,"ChildrenNode.ts has not been loaded"),no=no||new e({".priority":uo},{".priority":ao})}}]),e}(),fo=function(){function e(t,n,r){k(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eo(this.priorityNode_),this.children_.isEmpty()&&Cn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return C(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ro}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ro:t}},{key:"getChild",value:function(e){var t=ka(e);return null===t?this:this.getImmediateChild(t).getChild(Ca(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Cn(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new za(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ro:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=ka(e);if(null===n)return t;Cn(".priority"!==ka(e)||1===wa(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ca(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ao,(function(o,l){n[o]=l.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var l in n)o[l]=n[l];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Za(this.getPriority().val())+":"),this.forEachChild(ao,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":wi(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new za(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new za(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new za(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,za.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,za.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ho?-1:0}},{key:"withIndex",value:function(t){if(t===Va||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Va||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ao),r=t.getIterator(ao),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Va?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ro||(ro=new e(new Qa(Ka),null,co.Default))}}]),e}();fo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ho=new(function(e){x(n,e);var t=P(n);function n(){return k(this,n),t.call(this,new Qa(Ka),fo.EMPTY_NODE,co.Default)}return C(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return fo.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(fo));Object.defineProperties(za,{MIN:{value:new za(Di,fo.EMPTY_NODE)},MAX:{value:new za(Li,ho)}}),Ha.__EMPTY_NODE=fo.EMPTY_NODE,to.__childrenNodeConstructor=fo,Ba=ho,function(e){Xa=e}(ho);function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return fo.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Cn(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new to(n,po(t))}if(e instanceof Array){var r=fo.EMPTY_NODE;return Ui(e,(function(t,n){if(Yn(e,t)&&"."!==t.substring(0,1)){var i=po(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(po(t))}var i=[],a=!1,o=e;if(Ui(o,(function(e,t){if("."!==e.substring(0,1)){var n=po(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new za(e,n)))}})),0===i.length)return fo.EMPTY_NODE;var l=so(i,Ya,(function(e){return e.name}),Ka);if(a){var s=so(i,ao.getCompare());return new fo(l,po(t),new co({".priority":s},{".priority":ao}))}return new fo(l,po(t),co.Default)}!function(e){Ja=e}(po);var vo=function(e){x(n,e);var t=P(n);function n(e){var r;return k(this,n),(r=t.call(this)).indexPath_=e,Cn(!Na(e)&&".priority"!==ka(e),"Can't create PathIndex with empty path or .priority key"),r}return C(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ji(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=po(e),r=fo.EMPTY_NODE.updateChild(this.indexPath_,n);return new za(t,r)}},{key:"maxPost",value:function(){var e=fo.EMPTY_NODE.updateChild(this.indexPath_,ho);return new za(Li,e)}},{key:"toString",value:function(){return xa(this.indexPath_,0).join("/")}}]),n}(Ua),mo=function(e){x(n,e);var t=P(n);function n(){return k(this,n),t.apply(this,arguments)}return C(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?ji(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return za.MIN}},{key:"maxPost",value:function(){return za.MAX}},{key:"makePost",value:function(e,t){var n=po(e);return new za(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ua),yo=new mo,go="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function _o(e){return{type:"value",snapshotNode:e}}function bo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ko(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Co=function(){function e(t){k(this,e),this.index_=t}return C(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Cn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ko(t,o)):Cn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(bo(t,n)):a.trackChildChange(wo(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ao,(function(e,r){t.hasChild(e)||n.trackChildChange(ko(e,r))})),t.isLeafNode()||t.forEachChild(ao,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wo(t,r,i))}else n.trackChildChange(bo(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?fo.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),So=function(){function e(t){k(this,e),this.indexedFilter_=new Co(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return C(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new za(t,n))||(n=fo.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=fo.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(fo.EMPTY_NODE);var i=this;return t.forEachChild(ao,(function(e,t){i.matches(new za(e,t))||(r=r.updateImmediateChild(e,fo.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),xo=function(){function e(t){k(this,e),this.rangedFilter_=new So(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return C(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new za(t,n))||(n=fo.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=fo.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=fo.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var l,s,u,c;if(r=(r=t.withIndex(this.index_)).updatePriority(fo.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();u=function(e,t){return d(t,e)}}else c=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();for(var f=0,h=!1;c.hasNext();){var p=c.getNext();!h&&u(l,p)<=0&&(h=!0),h&&f<this.limit_&&u(p,s)<=0?f++:r=r.updateImmediateChild(p.name,fo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var l=e;Cn(l.numChildren()===this.limit_,"");var s=new za(t,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(l.hasChild(t)){for(var d=l.getImmediateChild(t),f=r.getChildAfterChild(this.index_,u,this.reverse_);null!=f&&(f.name===t||l.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(wo(t,n,d)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(ko(t,d));var p=l.updateImmediateChild(t,fo.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(bo(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&a(u,s)>=0?(null!=i&&(i.trackChildChange(ko(u.name,u.node)),i.trackChildChange(bo(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(u.name,fo.EMPTY_NODE)):e}}]),e}(),Eo=function(){function e(){k(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ao}return C(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Cn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Cn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Di}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Cn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Cn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Cn(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ao}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function To(e){var t,n={};return e.isDefault()||(e.index_===ao?t="$priority":e.index_===yo?t="$value":e.index_===Va?t="$key":(Cn(e.index_ instanceof vo,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=$n(t),e.startSet_&&(n.startAt=$n(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+$n(e.indexStartName_))),e.endSet_&&(n.endAt=$n(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+$n(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function No(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ao&&(t.i=e.index_.toString()),t}var Io=function(e){x(n,e);var t=P(n);function n(e,r,i,a){var o;return k(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Ni("p:rest:"),o.listens_={},o}return C(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var l=n.getListenId_(e,r),s={};this.listens_[l]=s;var u=To(e._queryParams);this.restRequest_(o+".json",u,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Kn(a.listens_,l)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=To(e._queryParams),r=e._path.toString(),i=new zn;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=h(i,2),o=a[0],l=a[1];o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+er(n);t.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(r&&4===u.readyState){t.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Bn(u.responseText)}catch(n){Ri("Failed to parse JSON response for "+s+": "+u.responseText)}r(null,e)}else 401!==u.status&&404!==u.status&&Ri("Got unsuccessful REST response for "+s+" Status: "+u.status),r(u.status);r=null}},u.open("GET",s,!0),u.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Cn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(ma),Po=function(){function e(){k(this,e),this.rootNode_=fo.EMPTY_NODE}return C(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Ro(){return{value:null,children:new Map}}function Oo(e,t,n){if(Na(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ka(t);e.children.has(r)||e.children.set(r,Ro()),Oo(e.children.get(r),t=Ca(t),n)}}function Do(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Do(r,new _a(t.toString()+"/"+e),n)}))}var Lo,jo=function(){function e(t){k(this,e),this.collection_=t,this.last_=null}return C(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ui(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Mo=function(){function e(t,n){k(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new jo(t);var r=1e4+2e4*Math.random();Qi(this.reportStats_.bind(this),Math.floor(r))}return C(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ui(t,(function(t,i){i>0&&Yn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Qi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Fo(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lo||(Lo={}));var Ao,zo=function(){function e(t,n,r){k(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Lo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return C(e,[{key:"operationForChild",value:function(t){if(Na(this.path)){if(null!=this.affectedTree.value)return Cn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _a(t));return new e(ba(),n,this.revert)}return Cn(ka(this.path)===t,"operationForChild called for unrelated child."),new e(Ca(this.path),this.affectedTree,this.revert)}}]),e}(),Uo=function(){function e(t,n){k(this,e),this.source=t,this.path=n,this.type=Lo.LISTEN_COMPLETE}return C(e,[{key:"operationForChild",value:function(t){return Na(this.path)?new e(this.source,ba()):new e(this.source,Ca(this.path))}}]),e}(),Ho=function(){function e(t,n,r){k(this,e),this.source=t,this.path=n,this.snap=r,this.type=Lo.OVERWRITE}return C(e,[{key:"operationForChild",value:function(t){return Na(this.path)?new e(this.source,ba(),this.snap.getImmediateChild(t)):new e(this.source,Ca(this.path),this.snap)}}]),e}(),Vo=function(){function e(t,n,r){k(this,e),this.source=t,this.path=n,this.children=r,this.type=Lo.MERGE}return C(e,[{key:"operationForChild",value:function(t){if(Na(this.path)){var n=this.children.subtree(new _a(t));return n.isEmpty()?null:n.value?new Ho(this.source,ba(),n.value):new e(this.source,ba(),n)}return Cn(ka(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ca(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),qo=function(){function e(t,n,r){k(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return C(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Na(e))return this.isFullyInitialized()&&!this.filtered_;var t=ka(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Wo=C((function e(t){k(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Bo(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Sn("Should only compare child_ events.");var r=new za(t.childName,t.snapshotNode),i=new za(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $o(e,t){return{eventCache:e,serverCache:t}}function Qo(e,t,n,r){return $o(new qo(t,n,r),e.serverCache)}function Yo(e,t,n,r){return $o(e.eventCache,new qo(t,n,r))}function Ko(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Go(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jo=function(){return Ao||(Ao=new Qa(Mi)),Ao},Xo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo();k(this,e),this.value=t,this.children=n}return C(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:ba(),value:this.value};if(Na(e))return null;var n=ka(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ca(e),t);return null!=i?{path:Ta(new _a(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Na(t))return this;var n=ka(t),r=this.children.get(n);return null!==r?r.subtree(Ca(t)):new e(null)}},{key:"set",value:function(t,n){if(Na(t))return new e(n,this.children);var r=ka(t),i=(this.children.get(r)||new e(null)).set(Ca(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Na(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ka(t),r=this.children.get(n);if(r){var i,a=r.remove(Ca(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Na(e))return this.value;var t=ka(e),n=this.children.get(t);return n?n.get(Ca(e)):null}},{key:"setTree",value:function(t,n){if(Na(t))return n;var r,i=ka(t),a=(this.children.get(i)||new e(null)).setTree(Ca(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(ba(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ta(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,ba(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Na(e))return null;var i=ka(e),a=this.children.get(i);return a?a.findOnPath_(Ca(e),Ta(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,ba(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Na(t))return this;this.value&&r(n,this.value);var i=ka(t),a=this.children.get(i);return a?a.foreachOnPath_(Ca(t),Ta(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(ba(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ta(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Ui(t,(function(e,t){n=n.set(new _a(e),t)})),n}}]),e}(),Zo=function(){function e(t){k(this,e),this.writeTree_=t}return C(e,null,[{key:"empty",value:function(){return new e(new Xo(null))}}]),e}();function el(e,t,n){if(Na(t))return new Zo(new Xo(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Ia(i,t);return a=a.updateChild(o,n),new Zo(e.writeTree_.set(i,a))}var l=new Xo(n),s=e.writeTree_.setTree(t,l);return new Zo(s)}function tl(e,t,n){var r=e;return Ui(n,(function(e,n){r=el(r,Ta(t,e),n)})),r}function nl(e,t){if(Na(t))return Zo.empty();var n=e.writeTree_.setTree(t,new Xo(null));return new Zo(n)}function rl(e,t){return null!=il(e,t)}function il(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ia(n.path,t)):null}function al(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ao,(function(e,n){t.push(new za(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new za(e,n.value))})),t}function ol(e,t){if(Na(t))return e;var n=il(e,t);return new Zo(null!=n?new Xo(n):e.writeTree_.subtree(t))}function ll(e){return e.writeTree_.isEmpty()}function sl(e,t){return ul(ba(),e.writeTree_,t)}function ul(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Cn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ul(Ta(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ta(e,".priority"),r)),n}function cl(e,t){return Sl(t,e)}function dl(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function fl(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Cn(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var l=e.allWrites[o];l.visible&&(o>=n&&hl(l,r.path)?i=!1:Ra(r.path,l.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=vl(e.allWrites,pl,ba()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=nl(e.visibleWrites,r.path):Ui(r.children,(function(t){e.visibleWrites=nl(e.visibleWrites,Ta(r.path,t))}));return!0}return!1}function hl(e,t){if(e.snap)return Ra(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ra(Ta(e.path,n),t))return!0;return!1}function pl(e){return e.visible}function vl(e,t,n){for(var r=Zo.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,l=void 0;if(a.snap)Ra(n,o)?r=el(r,l=Ia(n,o),a.snap):Ra(o,n)&&(l=Ia(o,n),r=el(r,ba(),a.snap.getChild(l)));else{if(!a.children)throw Sn("WriteRecord should have .snap or .children");if(Ra(n,o))r=tl(r,l=Ia(n,o),a.children);else if(Ra(o,n))if(Na(l=Ia(o,n)))r=tl(r,ba(),a.children);else{var s=Kn(a.children,ka(l));if(s){var u=s.getChild(Ca(l));r=el(r,ba(),u)}}}}}return r}function ml(e,t,n,r,i){if(r||i){var a=ol(e.visibleWrites,t);if(!i&&ll(a))return n;if(i||null!=n||rl(a,ba())){return sl(vl(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ra(e.path,t)||Ra(t,e.path))}),t),n||fo.EMPTY_NODE)}return null}var o=il(e.visibleWrites,t);if(null!=o)return o;var l=ol(e.visibleWrites,t);return ll(l)?n:null!=n||rl(l,ba())?sl(l,n||fo.EMPTY_NODE):null}function yl(e,t,n,r){return ml(e.writeTree,e.treePath,t,n,r)}function gl(e,t){return function(e,t,n){var r=fo.EMPTY_NODE,i=il(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ao,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ol(e.visibleWrites,t);return n.forEachChild(ao,(function(e,t){var n=sl(ol(a,new _a(e)),t);r=r.updateImmediateChild(e,n)})),al(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return al(ol(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _l(e,t,n,r){return function(e,t,n,r,i){Cn(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ta(t,n);if(rl(e.visibleWrites,a))return null;var o=ol(e.visibleWrites,a);return ll(o)?i.getChild(n):sl(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function bl(e,t){return function(e,t){return il(e.visibleWrites,t)}(e.writeTree,Ta(e.treePath,t))}function kl(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var l,s=ol(e.visibleWrites,t),u=il(s,ba());if(null!=u)l=u;else{if(null==n)return[];l=sl(s,n)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];for(var c=[],d=o.getCompare(),f=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function wl(e,t,n){return function(e,t,n,r){var i=Ta(t,n),a=il(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?sl(ol(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Cl(e,t){return Sl(Ta(e.treePath,t),e.writeTree)}function Sl(e,t){return{treePath:e,writeTree:t}}var xl=function(){function e(){k(this,e),this.changeMap=new Map}return C(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Cn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Cn(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wo(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ko(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bo(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Sn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wo(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),El=new(function(){function e(){k(this,e)}return C(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Tl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;k(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return C(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new qo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wl(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Go(this.viewCache_),i=kl(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Nl(e,t,n,r,i){var a,o,l=new xl;if(n.type===Lo.OVERWRITE){var s=n;s.source.fromUser?a=Rl(e,t,s.path,s.snap,r,i,l):(Cn(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Na(s.path),a=Pl(e,t,s.path,s.snap,r,i,o,l))}else if(n.type===Lo.MERGE){var u=n;u.source.fromUser?a=function(e,t,n,r,i,a,o){var l=t;return r.foreach((function(r,s){var u=Ta(n,r);Ol(t,ka(u))&&(l=Rl(e,l,u,s,i,a,o))})),r.foreach((function(r,s){var u=Ta(n,r);Ol(t,ka(u))||(l=Rl(e,l,u,s,i,a,o))})),l}(e,t,u.path,u.children,r,i,l):(Cn(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered(),a=Ll(e,t,u.path,u.children,r,i,o,l))}else if(n.type===Lo.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=bl(r,n))return t;var l,s=new Tl(r,t,i),u=t.eventCache.getNode();if(Na(n)||".priority"===ka(n)){var c;if(t.serverCache.isFullyInitialized())c=yl(r,Go(t));else{var d=t.serverCache.getNode();Cn(d instanceof fo,"serverChildren would be complete if leaf node"),c=gl(r,d)}l=e.filter.updateFullNode(u,c,a)}else{var f=ka(n),h=wl(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=u.getImmediateChild(f)),(l=null!=h?e.filter.updateChild(u,f,h,Ca(n),s,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,fo.EMPTY_NODE,Ca(n),s,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=yl(r,Go(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,o,a))}return o=t.serverCache.isFullyInitialized()||null!=bl(r,ba()),Qo(t,l,o,e.filter.filtersNodes())}(e,t,c.path,r,i,l):function(e,t,n,r,i,a,o){if(null!=bl(i,n))return t;var l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Na(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Pl(e,t,n,s.getNode().getChild(n),i,a,l,o);if(Na(n)){var u=new Xo(null);return s.getNode().forEachChild(Va,(function(e,t){u=u.set(new _a(e),t)})),Ll(e,t,n,u,i,a,l,o)}return t}var c=new Xo(null);return r.foreach((function(e,t){var r=Ta(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),Ll(e,t,n,c,i,a,l,o)}(e,t,c.path,c.affectedTree,r,i,l)}else{if(n.type!==Lo.LISTEN_COMPLETE)throw Sn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Yo(t,a.getNode(),a.isFullyInitialized()||Na(n),a.isFiltered());return Il(e,o,n,r,El,i)}(e,t,n.path,r,l)}var d=l.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ko(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(_o(Ko(t)))}}(t,a,d),{viewCache:a,changes:d}}function Il(e,t,n,r,i,a){var o,l,s=t.eventCache;if(null!=bl(r,n))return t;if(Na(n))if(Cn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var u=Go(t),c=gl(r,u instanceof fo?u:fo.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=yl(r,Go(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=ka(n);if(".priority"===f){Cn(1===wa(n),"Can't have a priority with additional path components");var h=s.getNode(),p=_l(r,n,h,l=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var v,m=Ca(n);if(s.isCompleteForChild(f)){l=t.serverCache.getNode();var y=_l(r,n,s.getNode(),l);v=null!=y?s.getNode().getImmediateChild(f).updateChild(m,y):s.getNode().getImmediateChild(f)}else v=wl(r,f,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),f,v,m,i,a):s.getNode()}}return Qo(t,o,s.isFullyInitialized()||Na(n),e.filter.filtersNodes())}function Pl(e,t,n,r,i,a,o,l){var s,u=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Na(n))s=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var d=u.getNode().updateChild(n,r);s=c.updateFullNode(u.getNode(),d,null)}else{var f=ka(n);if(!u.isCompleteForPath(n)&&wa(n)>1)return t;var h=Ca(n),p=u.getNode().getImmediateChild(f).updateChild(h,r);s=".priority"===f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,h,El,null)}var v=Yo(t,s,u.isFullyInitialized()||Na(n),c.filtersNodes());return Il(e,v,n,i,new Tl(i,v,a),l)}function Rl(e,t,n,r,i,a,o){var l,s,u=t.eventCache,c=new Tl(i,t,a);if(Na(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Qo(t,s,!0,e.filter.filtersNodes());else{var d=ka(n);if(".priority"===d)s=e.filter.updatePriority(t.eventCache.getNode(),r),l=Qo(t,s,u.isFullyInitialized(),u.isFiltered());else{var f,h=Ca(n),p=u.getNode().getImmediateChild(d);if(Na(h))f=r;else{var v=c.getCompleteChild(d);f=null!=v?".priority"===Sa(h)&&v.getChild(Ea(h)).isEmpty()?v:v.updateChild(h,r):fo.EMPTY_NODE}if(p.equals(f))l=t;else l=Qo(t,e.filter.updateChild(u.getNode(),d,f,h,c,o),u.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Ol(e,t){return e.eventCache.isCompleteForChild(t)}function Dl(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ll(e,t,n,r,i,a,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,u=t;s=Na(n)?r:new Xo(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=Dl(0,t.serverCache.getNode().getImmediateChild(n),r);u=Pl(e,u,new _a(n),s,i,a,o,l)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var d=Dl(0,t.serverCache.getNode().getImmediateChild(n),r);u=Pl(e,u,new _a(n),d,i,a,o,l)}})),u}var jl,Ml=function(){function e(t,n){k(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Co(i.getIndex()),o=(r=i).loadsAllData()?new Co(r.getIndex()):r.hasLimit()?new xo(r):new So(r);this.processor_=function(e){return{filter:e}}(o);var l=n.serverCache,s=n.eventCache,u=a.updateFullNode(fo.EMPTY_NODE,l.getNode(),null),c=o.updateFullNode(fo.EMPTY_NODE,s.getNode(),null),d=new qo(u,l.isFullyInitialized(),a.filtersNodes()),f=new qo(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$o(f,d),this.eventGenerator_=new Wo(this.query_)}return C(e,[{key:"query",get:function(){return this.query_}}]),e}();function Fl(e,t){var n=Go(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Na(t)&&!n.getImmediateChild(ka(t)).isEmpty())?n.getChild(t):null}function Al(e){return 0===e.eventRegistrations_.length}function zl(e,t,n){var r=[];if(n){Cn(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var l=e.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(l)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ul(e,t,n,r){t.type===Lo.MERGE&&null!==t.source.queryId&&(Cn(Go(e.viewCache_),"We should always have a full cache before handling merges"),Cn(Ko(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,l=Nl(e.processor_,o,t,n,r);return i=e.processor_,a=l.viewCache,Cn(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Cn(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Cn(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,Hl(e,l.changes,l.viewCache.eventCache.getNode(),null)}function Hl(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Bo(e,i,"child_removed",t,r,n),Bo(e,i,"child_added",t,r,n),Bo(e,i,"child_moved",a,r,n),Bo(e,i,"child_changed",t,r,n),Bo(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Vl,ql=C((function e(){k(this,e),this.views=new Map}));function Wl(e){return 0===e.views.size}function Bl(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Cn(null!=a,"SyncTree gave us an op for an invalid query."),Ul(a,t,n,r)}var o,l=[],s=_n(e.views.values());try{for(s.s();!(o=s.n()).done;){var u=o.value;l=l.concat(Ul(u,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return l}function $l(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var l=yl(n,i?r:null),s=!1;l?s=!0:r instanceof fo?(l=gl(n,r),s=!1):(l=fo.EMPTY_NODE,s=!1);var u=$o(new qo(l,s,!1),new qo(r,i,!1));return new Ml(t,u)}return o}function Ql(e,t,n,r,i,a){var o=$l(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ao,(function(e,t){r.push(bo(e,t))})),n.isFullyInitialized()&&r.push(_o(n.getNode())),Hl(e,r,n.getNode(),t)}(o,n)}function Yl(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],l=Zl(e);if("default"===i){var s,u=_n(e.views.entries());try{for(u.s();!(s=u.n()).done;){var c=h(s.value,2),d=c[0],f=c[1];o=o.concat(zl(f,n,r)),Al(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(v){u.e(v)}finally{u.f()}}else{var p=e.views.get(i);p&&(o=o.concat(zl(p,n,r)),Al(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return l&&!Zl(e)&&a.push(new(Cn(jl,"Reference.ts has not been loaded"),jl)(t._repo,t._path)),{removed:a,events:o}}function Kl(e){var t,n=[],r=_n(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Gl(e,t){var n,r=null,i=_n(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Fl(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Jl(e,t){if(t._queryParams.loadsAllData())return es(e);var n=t._queryIdentifier;return e.views.get(n)}function Xl(e,t){return null!=Jl(e,t)}function Zl(e){return null!=es(e)}function es(e){var t,n=_n(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ts=1,ns=C((function e(t){k(this,e),this.listenProvider_=t,this.syncPointTree_=new Xo(null),this.pendingWriteTree_={visibleWrites:Zo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function rs(e,t,n,r,i){return function(e,t,n,r,i){Cn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=el(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?cs(e,new Ho({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function is(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=dl(e.pendingWriteTree_,t),i=fl(e.pendingWriteTree_,t);if(i){var a=new Xo(null);return null!=r.snap?a=a.set(ba(),!0):Ui(r.children,(function(e){a=a.set(new _a(e),!0)})),cs(e,new zo(r.path,a,n))}return[]}function as(e,t,n){return cs(e,new Ho({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function os(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),l=[];if(o&&("default"===t._queryIdentifier||Xl(o,t))){var s=Yl(o,t,n,r);Wl(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var u=s.removed;if(l=s.events,!i){var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Zl(t)}));if(c&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var h=_s(f),p=0;p<h.length;++p){var v=h[p],m=v.query,y=hs(e,v);e.listenProvider_.startListening(bs(m),ps(e,m),y.hashFn,y.onComplete)}}if(!d&&u.length>0&&!r)if(c){var g=null;e.listenProvider_.stopListening(bs(t),g)}else u.forEach((function(t){var n=e.queryToTagMap.get(vs(t));e.listenProvider_.stopListening(bs(t),n)}))}ks(e,u)}return l}function ls(e,t,n,r){var i=ms(e,r);if(null!=i){var a=ys(i),o=a.path,l=a.queryId,s=Ia(o,t);return gs(e,o,new Ho(Fo(l),s,n))}return[]}function ss(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Ia(e,i);a=a||Gl(t,n),o=o||Zl(t)}));var l,s=e.syncPointTree_.get(i);if(s?(o=o||Zl(s),a=a||Gl(s,ba())):(s=new ql,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)l=!0;else{l=!1,a=fo.EMPTY_NODE;var u=e.syncPointTree_.subtree(i);u.foreachChild((function(e,t){var n=Gl(t,ba());n&&(a=a.updateImmediateChild(e,n))}))}var c=Xl(s,t);if(!c&&!t._queryParams.loadsAllData()){var d=vs(t);Cn(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var f=ws();e.queryToTagMap.set(d,f),e.tagToQueryMap.set(f,d)}var h=cl(e.pendingWriteTree_,i),p=Ql(s,t,n,h,a,l);if(!c&&!o&&!r){var v=Jl(s,t);p=p.concat(Cs(e,t,v))}return p}function us(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Gl(n,Ia(e,t));if(r)return r}));return ml(r,t,i,n,!0)}function cs(e,t){return ds(t,e.syncPointTree_,null,cl(e.pendingWriteTree_,ba()))}function ds(e,t,n,r){if(Na(e.path))return fs(e,t,n,r);var i=t.get(ba());null==n&&null!=i&&(n=Gl(i,ba()));var a=[],o=ka(e.path),l=e.operationForChild(o),s=t.children.get(o);if(s&&l){var u=n?n.getImmediateChild(o):null,c=Cl(r,o);a=a.concat(ds(l,s,u,c))}return i&&(a=a.concat(Bl(i,e,r,n))),a}function fs(e,t,n,r){var i=t.get(ba());null==n&&null!=i&&(n=Gl(i,ba()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,l=Cl(r,t),s=e.operationForChild(t);s&&(a=a.concat(fs(s,i,o,l)))})),i&&(a=a.concat(Bl(i,e,r,n))),a}function hs(e,t){var n=t.query,r=ps(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||fo.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ms(e,n);if(r){var i=ys(r),a=i.path,o=i.queryId,l=Ia(a,t);return gs(e,a,new Uo(Fo(o),l))}return[]}(e,n._path,r):function(e,t){return cs(e,new Uo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return os(e,n,null,i)}}}function ps(e,t){var n=vs(t);return e.queryToTagMap.get(n)}function vs(e){return e._path.toString()+"$"+e._queryIdentifier}function ms(e,t){return e.tagToQueryMap.get(t)}function ys(e){var t=e.indexOf("$");return Cn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _a(e.substr(0,t))}}function gs(e,t,n){var r=e.syncPointTree_.get(t);return Cn(r,"Missing sync point for query tag that we're tracking"),Bl(r,n,cl(e.pendingWriteTree_,t),null)}function _s(e){return e.fold((function(e,t,n){if(t&&Zl(t))return[es(t)];var r=[];return t&&(r=Kl(t)),Ui(n,(function(e,t){r=r.concat(t)})),r}))}function bs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Cn(Vl,"Reference.ts has not been loaded"),Vl)(e._repo,e._path):e}function ks(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=vs(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function ws(){return ts++}function Cs(e,t,n){var r=t._path,i=ps(e,t),a=hs(e,n),o=e.listenProvider_.startListening(bs(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)Cn(!Zl(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=l.fold((function(e,t,n){if(!Na(e)&&t&&Zl(t))return[es(t).query];var r=[];return t&&(r=r.concat(Kl(t).map((function(e){return e.query})))),Ui(n,(function(e,t){r=r.concat(t)})),r})),u=0;u<s.length;++u){var c=s[u];e.listenProvider_.stopListening(bs(c),ps(e,c))}return o}var Ss=function(){function e(t){k(this,e),this.node_=t}return C(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),xs=function(){function e(t,n){k(this,e),this.syncTree_=t,this.path_=n}return C(e,[{key:"getImmediateChild",value:function(t){var n=Ta(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return us(this.syncTree_,this.path_)}}]),e}(),Es=function(e,t,n){return e&&"object"===typeof e?(Cn(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ts(e[".sv"],t,n):"object"===typeof e[".sv"]?Ns(e[".sv"],t):void Cn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ts=function(e,t,n){if("timestamp"===e)return n.timestamp;Cn(!1,"Unexpected server value: "+e)},Ns=function(e,t,n){e.hasOwnProperty("increment")||Cn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Cn(!1,"Unexpected increment value: "+r);var i=t.node();if(Cn(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Is=function(e,t,n,r){return Rs(t,new xs(n,e),r)},Ps=function(e,t,n){return Rs(e,new Ss(t),n)};function Rs(e,t,n){var r,i=e.getPriority().val(),a=Es(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,l=Es(o.getValue(),t,n);return l!==o.getValue()||a!==o.getPriority().val()?new to(l,po(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new to(a))),s.forEachChild(ao,(function(e,i){var a=Rs(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Os=C((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};k(this,e),this.name=t,this.parent=n,this.node=r}));function Ds(e,t){for(var n=t instanceof _a?t:new _a(t),r=e,i=ka(n);null!==i;){var a=Kn(r.node.children,i)||{children:{},childCount:0};r=new Os(i,r,a),i=ka(n=Ca(n))}return r}function Ls(e){return e.node.value}function js(e,t){e.node.value=t,Us(e)}function Ms(e){return e.node.childCount>0}function Fs(e,t){Ui(e.node.children,(function(n,r){t(new Os(n,e,r))}))}function As(e,t,n,r){n&&!r&&t(e),Fs(e,(function(e){As(e,t,!0,r)})),n&&r&&t(e)}function zs(e){return new _a(null===e.parent?e.name:zs(e.parent)+"/"+e.name)}function Us(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Ls(e)&&!Ms(e)}(n),i=Yn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Us(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Us(e))}(e.parent,e.name,e)}var Hs=/[\[\].#$\/\u0000-\u001F\u007F]/,Vs=/[\[\].#$\u0000-\u001F\u007F]/,qs=10485760,Ws=function(e){return"string"===typeof e&&0!==e.length&&!Hs.test(e)},Bs=function(e){return"string"===typeof e&&0!==e.length&&!Vs.test(e)},$s=function(e,t,n,r){r&&void 0===t||Qs(nr(e,"value"),t,n)},Qs=function e(t,n,r){var i=r instanceof _a?new Oa(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+La(i));if("function"===typeof n)throw new Error(t+"contains a function "+La(i)+" with contents = "+n.toString());if(Oi(n))throw new Error(t+"contains "+n.toString()+" "+La(i));if("string"===typeof n&&n.length>qs/3&&rr(n)>qs)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+La(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Ui(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Ws(n)))throw new Error(t+" contains an invalid key ("+n+") "+La(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var l,s;s=n,(l=i).parts_.length>0&&(l.byteLength_+=1),l.parts_.push(s),l.byteLength_+=rr(s),Da(l),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=rr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+La(i)+" in addition to actual children.")}},Ys=function(e,t,n,r){if((!r||void 0!==n)&&!Bs(n))throw new Error(nr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ks=function(e,t){if(".info"===ka(t))throw new Error(e+" failed = Can't modify data under /.info/")},Gs=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ws(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Bs(e)}(n))throw new Error(nr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Js=C((function e(){k(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Xs(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Pa(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zs(e,t,n){Xs(e,n),tu(e,(function(e){return Pa(e,t)}))}function eu(e,t,n){Xs(e,n),tu(e,(function(e){return Ra(e,t)||Ra(t,e)}))}function tu(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(nu(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function nu(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Si&&Ti("event: "+n.toString()),$i(r)}}}var ru="repo_interrupt",iu=function(){function e(t,n,r,i){k(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Js,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ro(),this.transactionQueueTree_=new Os,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return C(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function au(e,t,n){if(e.stats_=oa(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Io(e.repoInfo_,(function(t,n,r,i){su(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return uu(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$n(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fa(e.repoInfo_,t,(function(t,n,r,i){su(e,t,n,r,i)}),(function(t){uu(e,t)}),(function(t){!function(e,t){Ui(t,(function(t,n){cu(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return aa[n]||(aa[n]=t()),aa[n]}(e.repoInfo_,(function(){return new Mo(e.stats_,e.server_)})),e.infoData_=new Po,e.infoSyncTree_=new ns({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=as(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),cu(e,"connected",!1),e.serverSyncTree_=new ns({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);eu(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ou(e){var t=e.infoData_.getNode(new _a(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lu(e){return(t=(t={timestamp:ou(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function su(e,t,n,r,i){e.dataUpdateCount++;var a=new _a(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var l=Jn(n,(function(e){return po(e)}));o=function(e,t,n,r){var i=ms(e,r);if(i){var a=ys(i),o=a.path,l=a.queryId,s=Ia(o,t),u=Xo.fromObject(n);return gs(e,o,new Vo(Fo(l),s,u))}return[]}(e.serverSyncTree_,a,l,i)}else{var s=po(n);o=ls(e.serverSyncTree_,a,s,i)}else if(r){var u=Jn(n,(function(e){return po(e)}));o=function(e,t,n){var r=Xo.fromObject(n);return cs(e,new Vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,u)}else{var c=po(n);o=as(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=bu(e,a)),eu(e.eventQueue_,d,o)}function uu(e,t){cu(e,"connected",t),!1===t&&function(e){vu(e,"onDisconnectEvents");var t=lu(e),n=Ro();Do(e.onDisconnect_,ba(),(function(r,i){var a=Is(r,i,e.serverSyncTree_,t);Oo(n,r,a)}));var r=[];Do(n,ba(),(function(t,n){r=r.concat(as(e.serverSyncTree_,t,n));var i=xu(e,t);bu(e,i)})),e.onDisconnect_=Ro(),eu(e.eventQueue_,ba(),r)}(e)}function cu(e,t,n){var r=new _a("/.info/"+t),i=po(n);e.infoData_.updateSnapshot(r,i);var a=as(e.infoSyncTree_,r,i);eu(e.eventQueue_,r,a)}function du(e){return e.nextWriteId_++}function fu(e,t,n,r,i){vu(e,"set",{path:t.toString(),value:n,priority:r});var a=lu(e),o=po(n,r),l=us(e.serverSyncTree_,t),s=Ps(o,l,a),u=du(e),c=rs(e.serverSyncTree_,t,s,u,!0);Xs(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Ri("set at "+t+" failed: "+n);var o=is(e.serverSyncTree_,u,!a);eu(e.eventQueue_,t,o),mu(e,i,n,r)}));var d=xu(e,t);bu(e,d),eu(e.eventQueue_,d,[])}function hu(e,t,n){var r;r=".info"===ka(t._path)?os(e.infoSyncTree_,t,n):os(e.serverSyncTree_,t,n),Zs(e.eventQueue_,t._path,r)}function pu(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ru)}function vu(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ti.apply(void 0,[t].concat(r))}function mu(e,t,n,r){t&&$i((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function yu(e,t,n){return us(e.serverSyncTree_,t,n)||fo.EMPTY_NODE}function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Su(e,t),Ls(t)){var n=wu(e,t);Cn(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&_u(e,zs(t),n)}else Ms(t)&&Fs(t,(function(t){gu(e,t)}))}function _u(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=yu(e,t,r),a=i,o=i.hash(),l=0;l<n.length;l++){var s=n[l];Cn(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=Ia(t,s.path);a=a.updateChild(u,s.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){vu(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(is(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},l=0;l<n.length;l++)o(l);Su(e,Ds(e.transactionQueueTree_,t)),gu(e,e.transactionQueueTree_),eu(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)$i(a[s])}else{if("datastale"===r)for(var u=0;u<n.length;u++)3===n[u].status?n[u].status=4:n[u].status=0;else{Ri("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}bu(e,t)}}),o)}function bu(e,t){var n=ku(e,t),r=zs(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var l,s=t[o],u=Ia(n,s.path),c=!1,d=void 0;if(Cn(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)c=!0,d=s.abortReason,i=i.concat(is(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)c=!0,d="maxretry",i=i.concat(is(e.serverSyncTree_,s.currentWriteId,!0));else{var f=yu(e,s.path,a);s.currentInputSnapshot=f;var h=t[o].update(f.val());if(void 0!==h){Qs("transaction failed: Data returned ",h,s.path);var p=po(h);"object"===typeof h&&null!=h&&Yn(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=s.currentWriteId,m=lu(e),y=Ps(p,f,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=y,s.currentWriteId=du(e),a.splice(a.indexOf(v),1),i=(i=i.concat(rs(e.serverSyncTree_,s.path,y,s.currentWriteId,s.applyLocally))).concat(is(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(is(e.serverSyncTree_,s.currentWriteId,!0))}eu(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,l=t[o].unwatcher,setTimeout(l,Math.floor(0)),t[o].onComplete&&("nodata"===d?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(d),!1,null)}))))},l=0;l<t.length;l++)o(l);Su(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)$i(r[s]);gu(e,e.transactionQueueTree_)}(e,wu(e,n),r),r}function ku(e,t){var n,r=e.transactionQueueTree_;for(n=ka(t);null!==n&&void 0===Ls(r);)r=Ds(r,n),n=ka(t=Ca(t));return r}function wu(e,t){var n=[];return Cu(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Cu(e,t,n){var r=Ls(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Fs(t,(function(t){Cu(e,t,n)}))}function Su(e,t){var n=Ls(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,js(t,n.length>0?n:void 0)}Fs(t,(function(t){Su(e,t)}))}function xu(e,t){var n=zs(ku(e,t)),r=Ds(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Eu(e,t)})),Eu(e,r),As(r,(function(t){Eu(e,t)})),n}function Eu(e,t){var n=Ls(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Cn(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Cn(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(is(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?js(t,void 0):n.length=a+1,eu(e.eventQueue_,zs(t),i);for(var l=0;l<r.length;l++)$i(r[l])}}var Tu=function(e,t){var n=Nu(e),r=n.namespace;"firebase.com"===n.domain&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ta(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _a(n.pathString)}},Nu=function(e){var t="",n="",r="",i="",a="",o=!0,l="https",s=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=_n(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ri("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(u=t.indexOf(":"))>=0?(o="https"===l||"wss"===l,s=parseInt(t.substring(u+1),10)):u=t.length;var h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:a}},Iu=function(){function e(t,n,r,i){k(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return C(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+$n(this.snapshot.exportVal())}}]),e}(),Pu=function(){function e(t,n,r){k(this,e),this.eventRegistration=t,this.error=n,this.path=r}return C(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ru=function(){function e(t,n){k(this,e),this.snapshotCallback=t,this.cancelCallback=n}return C(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Cn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Ou=function(){function e(t,n,r,i){k(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return C(e,[{key:"key",get:function(){return Na(this._path)?null:Sa(this._path)}},{key:"ref",get:function(){return new Du(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=No(this._queryParams),t=Ai(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return No(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ir(t))instanceof e))return!1;var n=this._repo===t._repo,r=Pa(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Du=function(e){x(n,e);var t=P(n);function n(e,r){return k(this,n),t.call(this,e,r,new Eo,!1)}return C(n,[{key:"parent",get:function(){var e=Ea(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Ou),Lu=function(){function e(t,n,r){k(this,e),this._node=t,this.ref=n,this._index=r}return C(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new _a(t),r=Mu(this.ref,t);return new e(this._node.getChild(n),r,ao)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Mu(n.ref,r),ao))}))}},{key:"hasChild",value:function(e){var t=new _a(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ju(e,t){return(e=ir(e))._checkNotDeleted("ref"),void 0!==t?Mu(e._root,t):e._root}function Mu(e,t){var n,r,i,a;return null===ka((e=ir(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ys(n,r,i,a)):Ys("child","path",t,!1),new Du(e._repo,Ta(e._path,t))}function Fu(e,t){e=ir(e),Ks("set",e._path),$s("set",t,e._path,!1);var n=new zn;return fu(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}var Au=function(){function e(t){k(this,e),this.callbackContext=t}return C(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Iu("value",this,new Lu(e.snapshotNode,new Du(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Pu(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),zu=function(){function e(t,n){k(this,e),this.eventType=t,this.callbackContext=n}return C(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Pu(this,e,t):null}},{key:"createEvent",value:function(e,t){Cn(null!=e.childName,"Child events should have a childName.");var n=Mu(new Du(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Iu(e.type,this,new Lu(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Uu(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,l=function(t,n){hu(e._repo,e,u),o(t,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var s=new Ru(n,a||void 0),u="value"===t?new Au(s):new zu(t,s);return function(e,t,n){var r;r=".info"===ka(t._path)?ss(e.infoSyncTree_,t,n):ss(e.serverSyncTree_,t,n),Zs(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return hu(e._repo,e,u)}}function Hu(e,t,n,r){return Uu(e,"value",t,n,r)}!function(e){Cn(!jl,"__referenceConstructor has already been defined"),jl=e}(Du),function(e){Cn(!Vl,"__referenceConstructor has already been defined"),Vl=e}(Du);var Vu={},qu=!1;function Wu(e,t,n,r){e.repoInfo_=new ta("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Bu(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ti("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,l=Tu(a,i),s=l.repoInfo,u=void 0;"undefined"!==typeof process&&(u={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a="http://".concat(u,"?ns=").concat(s.namespace),s=(l=Tu(a,i)).repoInfo):o=!l.repoInfo.secure;var c=i&&o?new Gi(Gi.OWNER):new Ki(e.name,e.options,t);Gs("Invalid Firebase Database URL",l),Na(l.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=Vu[t.name];i||(i={},Vu[t.name]=i);var a=i[e.toURLString()];a&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new iu(e,qu,n,r),i[e.toURLString()]=a,a}(s,e,c,new Yi(e.name,n));return new $u(d,e)}var $u=function(){function e(t,n){k(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return C(e,[{key:"_repo",get:function(){return this._instanceStarted||(au(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Du(this._repo,ba())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Vu[t];n&&n[e.key]===e||Pi("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),pu(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Pi("Cannot call "+e+" on a deleted database.")}}]),e}();function Qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr(),t=arguments.length>1?arguments[1]:void 0,n=Br(e,"database").getImmediate({identifier:t}),r=Fn("database");return r&&Yu.apply(void 0,[n].concat(p(r))),n}function Yu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ir(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Pi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Gi(Gi.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Un(r.mockUserToken,e.app.options.projectId);a=new Gi(o)}Wu(i,t,n,a)}Fa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Fa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){pi=e}("9.14.0"),Wr(new ar("database",(function(e,t){var n=t.instanceIdentifier;return Bu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Jr(fi,hi,e),Jr(fi,hi,"esm2017")}();var Ku=n.p+"static/media/klipartz.1d8ab0ab9b1cc52b7219.png";function Gu(){Qu(Kr({apiKey:"AIzaSyDDINQgG6jk39ZGKDOTGCWTLPvXtvJ0szY",authDomain:"icb-2023.firebaseapp.com",databaseURL:"https://icb-2023-default-rtdb.firebaseio.com",projectId:"icb-2023",storageBucket:"icb-2023.appspot.com",messagingSenderId:"704506630715",appId:"1:704506630715:web:dc69c04d49fcaec1a7c21e"})),ju(Qu());var t=h((0,e.useState)(!1),2),n=t[0],r=t[1],i=h((0,e.useState)(""),2),a=i[0],l=i[1],u=h((0,e.useState)([]),2),d=u[0],f=u[1],p=h((0,e.useState)({}),2),v=p[0],m=p[1],g=h((0,e.useState)([]),2),_=g[0],k=g[1],w=function(){r(!n)},C=Qu(),S=function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ju(C,"oreders");case 3:Hu(e.sent,(function(e){var n=e.val();for(var r in n)t.push({id:r,items:n[r].items,user:n[r].user,totalAmount:n[r].totalAmount});m(t)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://icb-2023-default-rtdb.firebaseio.com/MaintenanceOrders.json",{method:"POST",body:JSON.stringify(o({},t))});case 2:E(),n=[],r=_.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),!0)})),k(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ju(C,"MaintenanceOrders");case 3:Hu(e.sent,(function(e){var n=e.val();for(var r in n)t.push({id:r,name:n[r].name,description:n[r].description,showTime:n[r].showTime});k(t)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f([]),t=[],e.next=4,ju(C,"meals");case 4:Hu(e.sent,(function(e){var n=e.val();for(var r in n)t.push({id:r,name:n[r].name,description:n[r].description,price:n[r].price});f(t)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://icb-2023-default-rtdb.firebaseio.com/meals.json",{method:"POST",body:JSON.stringify(o({},t))});case 2:T(),n=[],r=d.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),!0)})),f(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){T();var e=[],t=d.filter((function(t){return!e.includes(t.id)&&(e.push(t.id),!0)}));f(t)}),[]),(0,e.useEffect)((function(){S()}),[]),(0,e.useEffect)((function(){E();var e=[],t=_.filter((function(t){return!e.includes(t.id)&&(e.push(t.id),!0)}));k(t)}),[]),(0,y.jsx)(b,{children:(0,y.jsxs)(Be,{children:[n&&(0,y.jsx)(sn,{fetchOrders:S,showCartHandler:w}),(0,y.jsx)(dt,{showCartHandler:w}),(0,y.jsx)("main",{children:"icb2023"!==a?(0,y.jsxs)("div",{className:"passcode",children:[(0,y.jsx)("label",{htmlFor:"passcode",children:"Please Enter A Valid Passcode !"}),(0,y.jsx)("input",{onChange:function(e){l(e.target.value)},type:"password",id:"passcode",value:a})]}):(0,y.jsxs)(ze,{children:[(0,y.jsx)(Fe,{path:"/",element:(0,y.jsx)("div",{className:"homeContainer",children:(0,y.jsxs)("div",{id:"ballon",children:[" ",(0,y.jsx)("img",{src:Ku,alt:"baba Sanphore"})," "]})})}),(0,y.jsx)(Fe,{path:"/food",element:(0,y.jsx)(jt,{meals:d})}),(0,y.jsx)(Fe,{path:"/chef",element:(0,y.jsx)(gn,{meals:d,submitOrderHandler:N,orders:v,fetchOrders:S,deleteItemHandler:function(e,t){!function(e){Ks("remove",e._path),Fu(e,null)}(ju(C,e+t));var n=[],r=d.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),!0)}));f(r),T()}})}),(0,y.jsx)(Fe,{path:"/maintenance",element:(0,y.jsx)(fn,{fetchMaintenanceOrders:E,maintenanceOrders:_,addMaintenanceOrderHandler:x})})]})}),(0,y.jsx)(ft,{})]})})}var Ju=document.getElementById("root");(0,r.s)(Ju).render((0,y.jsx)(e.StrictMode,{children:(0,y.jsx)(Gu,{})}))}()}();
//# sourceMappingURL=main.55d22cff.js.map